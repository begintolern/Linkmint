1:(()=>{var e={};e.id=9674,e.ids=[9674],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},79836:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(50482),n=r(69108),i=r(62563),a=r.n(i),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,51985)),"C:\\Users\\epo78\\Documents\\Linkmint\\app\\admin\\users\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,82917)),"C:\\Users\\epo78\\Documents\\Linkmint\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\epo78\\Documents\\Linkmint\\app\\admin\\users\\page.tsx"],u="/admin/users/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},42124:(e,t,r)=>{Promise.resolve().then(r.bind(r,97998))},84308:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},18393:()=>{},97998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(95344),n=r(3729);function i(){let[e,t]=(0,n.useState)(null),[r,i]=(0,n.useState)(null),[a,o]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/me",{cache:"no-store"}),r=await e.json();if(t(r),!r.success)return;if("ADMIN"!==r.user.role){i({success:!1,error:"Forbidden"});return}let s=await fetch("/api/admin/users",{cache:"no-store"}),n=await s.json();i(n)}catch(e){i({success:!1,error:"Server error"})}finally{o(!1)}})()},[]),a)?(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin \xb7 Users"}),s.jsx("div",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-gray-300 border-t-gray-700"})]}):e&&e.success?r&&r.success?(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin \xb7 Users"}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full border rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Email"}),s.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Name"}),s.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Verified"}),s.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Role"}),s.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Created"})]})}),s.jsx("tbody",{children:r.users.map(e=>(0,s.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 border-b",children:e.email}),s.jsx("td",{className:"px-3 py-2 border-b",children:e.name??"—"}),s.jsx("td",{className:"px-3 py-2 border-b",children:e.emailVerified?s.jsx("span",{className:"text-green-600",children:"Yes"}):s.jsx("span",{className:"text-red-600",children:"No"})}),s.jsx("td",{className:"px-3 py-2 border-b",children:e.role??"USER"}),s.jsx("td",{className:"px-3 py-2 border-b",children:new Date(e.createdAt).toLocaleString()})]},e.id))})]})})]}):(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin \xb7 Users"}),s.jsx("div",{className:"rounded border border-red-300 bg-red-50 px-3 py-2 text-red-700",children:r?.error==="Forbidden"?"You must be an admin to view this page.":"Failed to load users."})]}):(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin \xb7 Users"}),s.jsx("div",{className:"rounded border border-yellow-300 bg-yellow-50 px-3 py-2 text-yellow-700",children:"You must be logged in to view this page."})]})}},51985:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>a});let s=(0,r(86843).createProxy)(String.raw`C:\Users\epo78\Documents\Linkmint\app\admin\users\page.tsx`),{__esModule:n,$$typeof:i}=s,a=s.default},82917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,dynamic:()=>a,fetchCache:()=>o,metadata:()=>c,revalidate:()=>l,viewport:()=>u});var s=r(25036),n=r(19936),i=r.n(n);r(67272);let a="force-dynamic",o="force-no-store",l=0,d=process.env.NEXT_PUBLIC_SITE_URL??"http://localhost:3000",c={metadataBase:new URL(d),title:{default:"Linkmint — Earn From Every Link You Share",template:"%s \xb7 Linkmint"},description:"Turn any link into a payout. No followers needed. Built for trust.",keywords:["link monetization","affiliate","payouts","sharing"],applicationName:"Linkmint",icons:{icon:"/favicon.ico"},openGraph:{type:"website",url:d,title:"Linkmint",description:"Earn from every link you share. Built for trust.",images:["/opengraph-image.png"]},twitter:{card:"summary_large_image",title:"Linkmint — Earn From Every Link You Share",description:"Turn any link into a payout. No followers needed. Built for trust.",images:["/opengraph-image.png"]}},u={width:"device-width",initialScale:1,themeColor:"#111111",colorScheme:"light"};function m({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,className:i().variable,children:s.jsx("body",{className:"min-h-screen bg-white text-gray-900 antialiased",children:e})})}},48096:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return s},isDynamicServerError:function(){return n}});let r="DYNAMIC_SERVER_USAGE";class s extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isStaticGenBailoutError:function(){return o},staticGenerationBailout:function(){return d}});let s=r(48096),n=r(45869),i="NEXT_STATIC_GEN_BAILOUT";class a extends Error{constructor(...e){super(...e),this.code=i}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===i}function l(e,t){let{dynamic:r,link:s}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(s?" See more info here: "+s:"")}let d=(e,t)=>{let{dynamic:r,link:i}=void 0===t?{}:t,o=n.staticGenerationAsyncStorage.getStore();if(!o)return!1;if(o.forceStatic)return!0;if(o.dynamicShouldError)throw new a(l(e,{link:i,dynamic:null!=r?r:"error"}));let d=l(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==o.postpone||o.postpone.call(o,e),o.revalidate=0,o.isStaticGeneration){let t=new s.DynamicServerError(d);throw o.dynamicUsageDescription=e,o.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,9984],()=>r(79836));module.exports=s})();1:"use strict";(()=>{var e={};e.id=8983,e.ids=[8983,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},71452:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>b,originalPathname:()=>x,patchFetch:()=>j,requestAsyncStorage:()=>w,routeModule:()=>y,serverHooks:()=>g,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>h});var a={};t.r(a),t.d(a,{POST:()=>m,dynamic:()=>p,fetchCache:()=>c,revalidate:()=>d});var o=t(95419),n=t(69108),s=t(99678),i=t(78070),u=t(47033),l=t(94033);let p="force-dynamic",c="force-no-store",d=0;function f(e){return"boolean"==typeof e?e:"string"==typeof e?"true"===e.trim().toLowerCase():"number"==typeof e&&0!==e}async function m(e){try{let r=await (0,l.u0)();if(!r.ok)return i.Z.json({error:r.error},{status:r.status});let t=await e.json().catch(()=>({})),a=f(t?.value),o="autoPayoutsOn",n=await u.prisma.systemSetting.upsert({where:{key:o},create:{key:o,value:a},update:{value:a}});return i.Z.json({success:!0,value:f(n.value),message:`Auto payout set to ${f(n.value)}.`})}catch(e){return console.error("auto-payout-set POST error:",e),i.Z.json({error:"Server error"},{status:500})}}let y=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/admin/auto-payout-set/route",pathname:"/api/admin/auto-payout-set",filename:"route",bundlePath:"app/api/admin/auto-payout-set/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\admin\\auto-payout-set\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:w,staticGenerationAsyncStorage:v,serverHooks:g,headerHooks:b,staticGenerationBailout:h}=y,x="/api/admin/auto-payout-set/route";function j(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:v})}},72840:(e,r,t)=>{t.d(r,{L:()=>i});var a=t(86485),o=t(47033),n=t(6521),s=t.n(n);let i={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,a.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),a=await o.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!a||!a.password||!await s().compare(t,a.password))return null;if(!a.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:a.id,name:a.name??"",email:a.email,role:a.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>o});var a=t(53524);let o=globalThis.prisma??new a.PrismaClient({log:["error"]})},94033:(e,r,t)=>{t.d(r,{BB:()=>n,u0:()=>s});var a=t(81355),o=t(72840);function n(){return!0}async function s(){let e=await (0,a.getServerSession)(o.L),r=e?.user?.email?.toLowerCase(),t=function(){let e=process.env.ADMIN_EMAILS||"admin@linkmint.co";return new Set(e.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))}();return r&&t.has(r)?{ok:!0}:{ok:!1,status:403,error:"Forbidden"}}},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var a={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.default}});var o=t(77381);Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))});var n=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&({}).hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}(t(49605));function s(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:r})(e)}Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(71452));module.exports=a})();1:"use strict";(()=>{var e={};e.id=2053,e.ids=[2053,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},38080:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>b,originalPathname:()=>x,patchFetch:()=>j,requestAsyncStorage:()=>g,routeModule:()=>y,serverHooks:()=>v,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>h});var o={};t.r(o),t.d(o,{POST:()=>m,dynamic:()=>p,fetchCache:()=>c,revalidate:()=>d});var a=t(95419),n=t(69108),i=t(99678),s=t(78070),u=t(47033),l=t(94033);let p="force-dynamic",c="force-no-store",d=0;function f(e){return"boolean"==typeof e?e:"string"==typeof e?"true"===e.trim().toLowerCase():"number"==typeof e&&0!==e}async function m(){try{let e=await (0,l.u0)();if(!e.ok)return s.Z.json({error:e.error},{status:e.status});let r="autoPayoutsOn",t=await u.prisma.systemSetting.findUnique({where:{key:r}}),o=!f(t?.value),a=await u.prisma.systemSetting.upsert({where:{key:r},create:{key:r,value:o},update:{value:o}});return s.Z.json({success:!0,value:f(a.value)})}catch(e){return console.error("auto-payout-toggle POST error:",e),s.Z.json({error:"Server error"},{status:500})}}let y=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/admin/auto-payout-toggle/route",pathname:"/api/admin/auto-payout-toggle",filename:"route",bundlePath:"app/api/admin/auto-payout-toggle/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\admin\\auto-payout-toggle\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:w,serverHooks:v,headerHooks:b,staticGenerationBailout:h}=y,x="/api/admin/auto-payout-toggle/route";function j(){return(0,i.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:w})}},72840:(e,r,t)=>{t.d(r,{L:()=>s});var o=t(86485),a=t(47033),n=t(6521),i=t.n(n);let s={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,o.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),o=await a.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!o||!o.password||!await i().compare(t,o.password))return null;if(!o.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:o.id,name:o.name??"",email:o.email,role:o.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>a});var o=t(53524);let a=globalThis.prisma??new o.PrismaClient({log:["error"]})},94033:(e,r,t)=>{t.d(r,{BB:()=>n,u0:()=>i});var o=t(81355),a=t(72840);function n(){return!0}async function i(){let e=await (0,o.getServerSession)(a.L),r=e?.user?.email?.toLowerCase(),t=function(){let e=process.env.ADMIN_EMAILS||"admin@linkmint.co";return new Set(e.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))}();return r&&t.has(r)?{ok:!0}:{ok:!1,status:403,error:"Forbidden"}}},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var o={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.default}});var a=t(77381);Object.keys(a).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))});var n=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&({}).hasOwnProperty.call(e,n)){var s=a?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(o,n,s):o[n]=e[n]}return o.default=e,t&&t.set(e,o),o}(t(49605));function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:r})(e)}Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(38080));module.exports=o})();1:"use strict";(()=>{var e={};e.id=326,e.ids=[326,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55450:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>h,originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>c,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>y});var r={};a.r(r),a.d(r,{GET:()=>d});var o=a(95419),s=a(69108),i=a(99678),n=a(78070),u=a(47033);async function d(e){if(e.headers.get("x-admin-key")!==process.env.ADMIN_KEY)return n.Z.json({error:"Unauthorized"},{status:401});try{let e=await u.prisma.user.upsert({where:{email:"seed-tester@linkmint.co"},update:{},create:{email:"seed-tester@linkmint.co",name:"Seed Tester",emailVerified:!0}}),t=await u.prisma.payout.create({data:{userId:e.id,amount:25.5,method:"paypal",status:"paid",details:"Seeded payout for API test",paidAt:new Date}});return n.Z.json({success:!0,payout:t})}catch(e){return console.error("Seed payout error:",e),n.Z.json({success:!1,error:"Failed to create test payout"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/seed-payout-log/route",pathname:"/api/admin/seed-payout-log",filename:"route",bundlePath:"app/api/admin/seed-payout-log/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\admin\\seed-payout-log\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:c,headerHooks:h,staticGenerationBailout:y}=p,g="/api/admin/seed-payout-log/route";function v(){return(0,i.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:m})}},47033:(e,t,a)=>{a.d(t,{prisma:()=>o});var r=a(53524);let o=globalThis.prisma??new r.PrismaClient({log:["error"]})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[1638,6206],()=>a(55450));module.exports=r})();1:"use strict";(()=>{var e={};e.id=6958,e.ids=[6958,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},70919:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>w,originalPathname:()=>v,patchFetch:()=>b,requestAsyncStorage:()=>f,routeModule:()=>d,serverHooks:()=>y,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>g});var a={};t.r(a),t.d(a,{POST:()=>c,dynamic:()=>l,fetchCache:()=>p});var o=t(95419),n=t(69108),s=t(99678),i=t(78070),u=t(94033);let l="force-dynamic",p="force-no-store";async function c(){try{let e=await (0,u.u0)();if(!e.ok)return i.Z.json({error:e.error},{status:e.status});return i.Z.json({success:!0,message:"Payout alert triggered."})}catch(e){return console.error("test-payout-alert error:",e),i.Z.json({error:"Server error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/admin/test-payout-alert/route",pathname:"/api/admin/test-payout-alert",filename:"route",bundlePath:"app/api/admin/test-payout-alert/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\admin\\test-payout-alert\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:f,staticGenerationAsyncStorage:m,serverHooks:y,headerHooks:w,staticGenerationBailout:g}=d,v="/api/admin/test-payout-alert/route";function b(){return(0,s.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:m})}},72840:(e,r,t)=>{t.d(r,{L:()=>i});var a=t(86485),o=t(47033),n=t(6521),s=t.n(n);let i={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,a.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),a=await o.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!a||!a.password||!await s().compare(t,a.password))return null;if(!a.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:a.id,name:a.name??"",email:a.email,role:a.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>o});var a=t(53524);let o=globalThis.prisma??new a.PrismaClient({log:["error"]})},94033:(e,r,t)=>{t.d(r,{BB:()=>n,u0:()=>s});var a=t(81355),o=t(72840);function n(){return!0}async function s(){let e=await (0,a.getServerSession)(o.L),r=e?.user?.email?.toLowerCase(),t=function(){let e=process.env.ADMIN_EMAILS||"admin@linkmint.co";return new Set(e.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))}();return r&&t.has(r)?{ok:!0}:{ok:!1,status:403,error:"Forbidden"}}},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var a={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.default}});var o=t(77381);Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))});var n=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&({}).hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}(t(49605));function s(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:r})(e)}Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(70919));module.exports=a})();1:"use strict";(()=>{var e={};e.id=5446,e.ids=[5446,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},73954:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>w,originalPathname:()=>v,patchFetch:()=>b,requestAsyncStorage:()=>f,routeModule:()=>d,serverHooks:()=>y,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>g});var s={};t.r(s),t.d(s,{POST:()=>p,dynamic:()=>l,fetchCache:()=>c});var o=t(95419),n=t(69108),a=t(99678),i=t(78070),u=t(94033);let l="force-dynamic",c="force-no-store";async function p(){try{let e=await (0,u.u0)();if(!e.ok)return i.Z.json({error:e.error},{status:e.status});return i.Z.json({success:!0,message:"TrustScore alert triggered."})}catch(e){return console.error("test-trustscore-alert error:",e),i.Z.json({error:"Server error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/admin/test-trustscore-alert/route",pathname:"/api/admin/test-trustscore-alert",filename:"route",bundlePath:"app/api/admin/test-trustscore-alert/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\admin\\test-trustscore-alert\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:f,staticGenerationAsyncStorage:m,serverHooks:y,headerHooks:w,staticGenerationBailout:g}=d,v="/api/admin/test-trustscore-alert/route";function b(){return(0,a.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:m})}},72840:(e,r,t)=>{t.d(r,{L:()=>i});var s=t(86485),o=t(47033),n=t(6521),a=t.n(n);let i={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,s.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),s=await o.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!s||!s.password||!await a().compare(t,s.password))return null;if(!s.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:s.id,name:s.name??"",email:s.email,role:s.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>o});var s=t(53524);let o=globalThis.prisma??new s.PrismaClient({log:["error"]})},94033:(e,r,t)=>{t.d(r,{BB:()=>n,u0:()=>a});var s=t(81355),o=t(72840);function n(){return!0}async function a(){let e=await (0,s.getServerSession)(o.L),r=e?.user?.email?.toLowerCase(),t=function(){let e=process.env.ADMIN_EMAILS||"admin@linkmint.co";return new Set(e.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))}();return r&&t.has(r)?{ok:!0}:{ok:!1,status:403,error:"Forbidden"}}},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var s={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.default}});var o=t(77381);Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e))&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))});var n=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&({}).hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(s,n,i):s[n]=e[n]}return s.default=e,t&&t.set(e,s),s}(t(49605));function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e))&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(73954));module.exports=s})();1:"use strict";(()=>{var e={};e.id=2628,e.ids=[2628,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},69204:(e,r,s)=>{s.r(r),s.d(r,{headerHooks:()=>q,originalPathname:()=>y,patchFetch:()=>v,requestAsyncStorage:()=>w,routeModule:()=>x,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>h});var t={};s.r(t),s.d(t,{GET:()=>m,dynamic:()=>p,fetchCache:()=>c});var i=s(95419),a=s(69108),o=s(99678),n=s(78070),u=s(47033),l=s(49605),d=s(72840);let p="force-dynamic",c="force-no-store";async function m(){try{let e=await (0,l.getServerSession)(d.L);if(!e||!e.user?.id)return n.Z.json({success:!1,error:"Unauthorized"},{status:401});let r=e.user?.role??"USER";if("ADMIN"!==r)return n.Z.json({success:!1,error:"Forbidden"},{status:403});let s=await u.prisma.user.findMany({orderBy:{createdAt:"desc"},select:{id:!0,name:!0,email:!0,emailVerified:!0,createdAt:!0,role:!0}});return n.Z.json({success:!0,users:s})}catch(e){return console.error("Admin users route error:",e),n.Z.json({success:!1,error:"Server error"},{status:500})}}let x=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/admin/users/route",pathname:"/api/admin/users",filename:"route",bundlePath:"app/api/admin/users/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\admin\\users\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:w,staticGenerationAsyncStorage:f,serverHooks:g,headerHooks:q,staticGenerationBailout:h}=x,y="/api/admin/users/route";function v(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},72840:(e,r,s)=>{s.d(r,{L:()=>n});var t=s(86485),i=s(47033),a=s(6521),o=s.n(a);let n={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,t.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),s=String(e.password),t=await i.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!t||!t.password||!await o().compare(s,t.password))return null;if(!t.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:t.id,name:t.name??"",email:t.email,role:t.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,s)=>{s.d(r,{prisma:()=>i});var t=s(53524);let i=globalThis.prisma??new t.PrismaClient({log:["error"]})}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[1638,6206,7439,6521,6929,6255],()=>s(69204));module.exports=t})();1:(()=>{var e={};e.id=4596,e.ids=[4596,7033],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},11825:()=>{},69077:(e,r,t)=>{"use strict";t.r(r),t.d(r,{headerHooks:()=>y,originalPathname:()=>w,patchFetch:()=>I,requestAsyncStorage:()=>h,routeModule:()=>f,serverHooks:()=>x,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>q});var i={};t.r(i),t.d(i,{POST:()=>m,dynamic:()=>l,fetchCache:()=>d});var s=t(95419),n=t(69108),o=t(99678),a=t(78070),u=t(47033),c=t(18272),p=t(64662);let l="force-dynamic",d="force-no-store";async function m(e){try{let{email:r}=await e.json(),t=String(r||"").trim().toLowerCase();if(!t)return a.Z.json({success:!1,error:"Email required."},{status:400});let i=await u.prisma.user.findUnique({where:{email:t},select:{id:!0,email:!0,emailVerifiedAt:!0}});if(!i||i.emailVerifiedAt)return a.Z.json({success:!0});let s=(0,c.Z)(),n=new Date(Date.now()+864e5);await u.prisma.verificationToken.create({data:{userId:i.id,token:s,expires:n}}),await u.prisma.user.update({where:{id:i.id},data:{verifyToken:s,verifyTokenExpiry:n}});let o=`${"http://localhost:3000".replace(/\/$/,"")}/verify?token=${encodeURIComponent(s)}`;try{await (0,p.z)(i.email,o)}catch(e){console.error("sendVerificationEmail failed:",e)}return a.Z.json({success:!0})}catch(e){return console.error("resend-verification error:",e),a.Z.json({success:!1,error:"Server error"},{status:500})}}let f=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/resend-verification/route",pathname:"/api/auth/resend-verification",filename:"route",bundlePath:"app/api/auth/resend-verification/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\auth\\resend-verification\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:h,staticGenerationAsyncStorage:v,serverHooks:x,headerHooks:y,staticGenerationBailout:q}=f,w="/api/auth/resend-verification/route";function I(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:v})}},47033:(e,r,t)=>{"use strict";t.d(r,{prisma:()=>s});var i=t(53524);let s=globalThis.prisma??new i.PrismaClient({log:["error"]})},64662:(e,r,t)=>{"use strict";t.d(r,{z:()=>o});var i=t(61584),s=t.n(i);let n=process.env.EMAIL_VERIFY_BASE_URL||"http://localhost:3000";async function o(e,r){if(!process.env.SENDGRID_API_KEY)throw Error("Missing SENDGRID_API_KEY");s().setApiKey(process.env.SENDGRID_API_KEY);let t=`${n}/verify?token=${encodeURIComponent(r)}`;await s().send({to:e,from:"admin@linkmint.co",subject:"Verify your email",html:`
1:"use strict";(()=>{var e={};e.id=4912,e.ids=[4912,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},47063:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>y});var n={};r.r(n),r.d(n,{GET:()=>p,POST:()=>p});var i=r(95419),o=r(69108),s=r(99678),a=r(81355),u=r.n(a),l=r(72840);let p=u()(l.L),c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\auth\\[...nextauth]\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:f,serverHooks:m,headerHooks:h,staticGenerationBailout:y}=c,g="/api/auth/[...nextauth]/route";function x(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},72840:(e,t,r)=>{r.d(t,{L:()=>a});var n=r(86485),i=r(47033),o=r(6521),s=r.n(o);let a={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,n.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let t=String(e.email).trim().toLowerCase(),r=String(e.password),n=await i.prisma.user.findUnique({where:{email:t},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!n||!n.password||!await s().compare(r,n.password))return null;if(!n.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:n.id,name:n.name??"",email:n.email,role:n.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id,e.role=t.role??"USER"),e),session:async({session:e,token:t})=>(e?.user&&(e.user.id=t?.id,e.user.role=t?.role??"USER"),e)}}},47033:(e,t,r)=>{r.d(t,{prisma:()=>i});var n=r(53524);let i=globalThis.prisma??new n.PrismaClient({log:["error"]})},77381:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},81355:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var i=r(77381);Object.keys(i).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(49605));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))})},97347:e=>{var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o={};function s(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${r.join("; ")}`}function a(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function u(e){var t,r;if(!e)return;let[[n,i],...o]=a(e),{domain:s,expires:u,httponly:c,maxage:d,path:f,samesite:m,secure:h,priority:y}=Object.fromEntries(o.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(i),domain:s,...u&&{expires:new Date(u)},...c&&{httpOnly:!0},..."string"==typeof d&&{maxAge:Number(d)},path:f,...m&&{sameSite:l.includes(t=(t=m).toLowerCase())?t:void 0},...h&&{secure:!0},...y&&{priority:p.includes(r=(r=y).toLowerCase())?r:void 0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(o,{RequestCookies:()=>c,ResponseCookies:()=>d,parseCookie:()=>a,parseSetCookie:()=>u,stringifyCookie:()=>s}),e.exports=((e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let s of n(o))i.call(e,s)||void 0===s||t(e,s,{get:()=>o[s],enumerable:!(a=r(o,s))||a.enumerable});return e})(t({},"__esModule",{value:!0}),o);var l=["strict","lax","none"],p=["low","medium","high"],c=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of a(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},d=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,o,s=[],a=0;function u(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,o=!1;u();)if(","===(r=e.charAt(a))){for(n=a,a+=1,u(),i=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(o=!0,a=i,s.push(e.substring(t,n)),t=a):a=n+1}else a+=1;(!o||a>=e.length)&&s.push(e.substring(t,e.length))}return s}(i)){let t=u(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=s(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},95419:(e,t,r)=>{e.exports=r(30517)},63608:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies}});let n=r(97347)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,7439,6521,6929,6255],()=>r(47063));module.exports=n})();1:"use strict";(()=>{var e={};e.id=647,e.ids=[647,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},61658:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>b,originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>y,routeModule:()=>f,serverHooks:()=>w,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>h});var s={};t.r(s),t.d(s,{GET:()=>m,dynamic:()=>p,fetchCache:()=>d});var o=t(95419),i=t(69108),n=t(99678),a=t(78070),u=t(81355),l=t(72840),c=t(47033);let p="force-dynamic",d="force-no-store";async function m(){try{let e=await (0,u.getServerSession)(l.L);if(!e?.user?.id)return a.Z.json({error:"Unauthorized"},{status:401});let r=await c.prisma.payout.findMany({where:{userId:e.user.id},orderBy:{createdAt:"desc"}}),t=r.filter(e=>"pending"===e.status).reduce((e,r)=>e+Number(r.amount??0),0),s=r.filter(e=>"approved"===e.status).reduce((e,r)=>e+Number(r.amount??0),0),o=r.filter(e=>"paid"===e.status).reduce((e,r)=>e+Number(r.amount??0),0);return a.Z.json({pending:t,approved:s,paid:o})}catch(e){return console.error("Error fetching commissions summary:",e),a.Z.json({error:"Failed to fetch commissions summary"},{status:500})}}let f=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/commissions/route",pathname:"/api/commissions",filename:"route",bundlePath:"app/api/commissions/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\commissions\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:y,staticGenerationAsyncStorage:g,serverHooks:w,headerHooks:b,staticGenerationBailout:h}=f,x="/api/commissions/route";function v(){return(0,n.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:g})}},72840:(e,r,t)=>{t.d(r,{L:()=>a});var s=t(86485),o=t(47033),i=t(6521),n=t.n(i);let a={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,s.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),s=await o.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!s||!s.password||!await n().compare(t,s.password))return null;if(!s.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:s.id,name:s.name??"",email:s.email,role:s.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>o});var s=t(53524);let o=globalThis.prisma??new s.PrismaClient({log:["error"]})},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var s={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i.default}});var o=t(77381);Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e))&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))});var i=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,t&&t.set(e,s),s}(t(49605));function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}Object.keys(i).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e))&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(61658));module.exports=s})();1:"use strict";(()=>{var e={};e.id=175,e.ids=[175,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},79776:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>v,originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>b});var n={};t.r(n),t.d(n,{POST:()=>f,dynamic:()=>p,fetchCache:()=>d});var i=t(95419),o=t(69108),a=t(99678),s=t(78070),u=t(47033),l=t(18272),c=t(94033);let p="force-dynamic",d="force-no-store";async function f(e){try{let r=await (0,c.u0)();if(!r.ok)return s.Z.json({error:r.error},{status:r.status});let{email:t}=await e.json();if(!t||"string"!=typeof t)return s.Z.json({error:"Email required"},{status:400});let n=await u.prisma.user.findUnique({where:{email:t.toLowerCase()}});if(!n)return s.Z.json({error:"User not found"},{status:404});let i=(0,l.Z)(),o=new Date(Date.now()+18e5);return await u.prisma.user.update({where:{id:n.id},data:{verifyToken:i,verifyTokenExpiry:o,emailVerified:!1}}),s.Z.json((0,c.BB)()?{success:!0,message:"Verification token reset.",expiresAt:o.toISOString()}:{success:!0,message:"Verification token reset.",token:i,expiresAt:o.toISOString(),note:"Token omitted in production."})}catch(e){return console.error("retrigger-verification error:",e),s.Z.json({error:"Server error"},{status:500})}}let m=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/debug/retrigger-verification/route",pathname:"/api/debug/retrigger-verification",filename:"route",bundlePath:"app/api/debug/retrigger-verification/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\debug\\retrigger-verification\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:g,staticGenerationAsyncStorage:w,serverHooks:y,headerHooks:v,staticGenerationBailout:b}=m,h="/api/debug/retrigger-verification/route";function x(){return(0,a.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:w})}},72840:(e,r,t)=>{t.d(r,{L:()=>s});var n=t(86485),i=t(47033),o=t(6521),a=t.n(o);let s={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,n.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),n=await i.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!n||!n.password||!await a().compare(t,n.password))return null;if(!n.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:n.id,name:n.name??"",email:n.email,role:n.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>i});var n=t(53524);let i=globalThis.prisma??new n.PrismaClient({log:["error"]})},94033:(e,r,t)=>{t.d(r,{BB:()=>o,u0:()=>a});var n=t(81355),i=t(72840);function o(){return!0}async function a(){let e=await (0,n.getServerSession)(i.L),r=e?.user?.email?.toLowerCase(),t=function(){let e=process.env.ADMIN_EMAILS||"admin@linkmint.co";return new Set(e.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))}();return r&&t.has(r)?{ok:!0}:{ok:!1,status:403,error:"Forbidden"}}},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var n={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o.default}});var i=t(77381);Object.keys(i).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))});var o=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(t(49605));function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))})},18272:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(6113),i=t.n(n);let o={randomUUID:i().randomUUID},a=new Uint8Array(256),s=a.length,u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));let l=function(e,r,t){if(o.randomUUID&&!r&&!e)return o.randomUUID();let n=(e=e||{}).random||(e.rng||function(){return s>a.length-16&&(i().randomFillSync(a),s=0),a.slice(s,s+=16)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(let e=0;e<16;++e)r[t+e]=n[e];return r}return function(e,r=0){return u[e[r+0]]+u[e[r+1]]+u[e[r+2]]+u[e[r+3]]+"-"+u[e[r+4]]+u[e[r+5]]+"-"+u[e[r+6]]+u[e[r+7]]+"-"+u[e[r+8]]+u[e[r+9]]+"-"+u[e[r+10]]+u[e[r+11]]+u[e[r+12]]+u[e[r+13]]+u[e[r+14]]+u[e[r+15]]}(n)}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(79776));module.exports=n})();1:"use strict";(()=>{var e={};e.id=9446,e.ids=[9446,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},85249:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>w,originalPathname:()=>f,patchFetch:()=>y,requestAsyncStorage:()=>x,routeModule:()=>m,serverHooks:()=>q,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>h});var s={};t.r(s),t.d(s,{GET:()=>d,dynamic:()=>p,fetchCache:()=>c});var i=t(95419),a=t(69108),o=t(99678),n=t(78070),u=t(49605),l=t(72840);let p="force-dynamic",c="force-no-store";async function d(){try{let e=await (0,u.getServerSession)(l.L);if(!e||!e.user)return n.Z.json({success:!1,error:"Unauthorized"},{status:401});return n.Z.json({success:!0,user:{id:e.user.id,name:e.user.name,email:e.user.email,role:e.user.role??"USER"}})}catch(e){return console.error("me route error:",e),n.Z.json({success:!1,error:"Server error"},{status:500})}}let m=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/me/route",pathname:"/api/me",filename:"route",bundlePath:"app/api/me/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\me\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:g,serverHooks:q,headerHooks:w,staticGenerationBailout:h}=m,f="/api/me/route";function y(){return(0,o.patchFetch)({serverHooks:q,staticGenerationAsyncStorage:g})}},72840:(e,r,t)=>{t.d(r,{L:()=>n});var s=t(86485),i=t(47033),a=t(6521),o=t.n(a);let n={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,s.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),s=await i.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!s||!s.password||!await o().compare(t,s.password))return null;if(!s.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:s.id,name:s.name??"",email:s.email,role:s.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>i});var s=t(53524);let i=globalThis.prisma??new s.PrismaClient({log:["error"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(85249));module.exports=s})();1:"use strict";(()=>{var e={};e.id=6322,e.ids=[6322,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},67801:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>b,patchFetch:()=>j,requestAsyncStorage:()=>y,routeModule:()=>m,serverHooks:()=>x,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>g});var a={};t.r(a),t.d(a,{GET:()=>f,dynamic:()=>c,fetchCache:()=>d});var s=t(95419),i=t(69108),n=t(99678),o=t(78070),u=t(81355),l=t(72840),p=t(47033);let c="force-dynamic",d="force-no-store";async function f(){try{let e=await (0,u.getServerSession)(l.L),r=e?.user?.email;if(!r)return o.Z.json({error:"Unauthorized"},{status:401});let t=await p.prisma.user.findUnique({where:{email:r},select:{id:!0,email:!0}});if(!t)return o.Z.json({error:"User not found"},{status:404});let a=await p.prisma.referralGroup.findFirst({where:{referrerId:t.id},orderBy:{createdAt:"desc"},select:{id:!0,expiresAt:!0,startedAt:!0,createdAt:!0}}),s=await p.prisma.user.count({where:{referredById:t.id}}),i="http://localhost:3000".replace(/\/$/,"")||0,n=`${i}/signup?ref=${t.id}`,c=new Date,d=!!(a&&a.expiresAt&&a.expiresAt>c);return o.Z.json({referralLink:n,totalReferrals:s,isActive:d,expiresAt:a?.expiresAt??null})}catch(e){return console.error("referrals GET error:",e),o.Z.json({error:"Internal error"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/referrals/route",pathname:"/api/referrals",filename:"route",bundlePath:"app/api/referrals/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\referrals\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:y,staticGenerationAsyncStorage:w,serverHooks:x,headerHooks:h,staticGenerationBailout:g}=m,b="/api/referrals/route";function j(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:w})}},72840:(e,r,t)=>{t.d(r,{L:()=>o});var a=t(86485),s=t(47033),i=t(6521),n=t.n(i);let o={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,a.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),a=await s.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!a||!a.password||!await n().compare(t,a.password))return null;if(!a.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:a.id,name:a.name??"",email:a.email,role:a.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>s});var a=t(53524);let s=globalThis.prisma??new a.PrismaClient({log:["error"]})},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var a={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i.default}});var s=t(77381);Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))});var i=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,t&&t.set(e,a),a}(t(49605));function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}Object.keys(i).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(67801));module.exports=a})();1:"use strict";(()=>{var e={};e.id=9373,e.ids=[9373,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},35295:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>b,patchFetch:()=>j,requestAsyncStorage:()=>w,routeModule:()=>y,serverHooks:()=>x,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>v});var a={};t.r(a),t.d(a,{GET:()=>m,dynamic:()=>d,fetchCache:()=>f});var s=t(95419),n=t(69108),i=t(99678),o=t(78070),u=t(81355),l=t(72840),p=t(47033);async function c(e){let r=new Date,t=await p.prisma.referralBatch.findFirst({where:{referrerId:e,status:"active",startedAt:{not:null},expiresAt:{not:null,gt:r}},orderBy:{startedAt:"desc"}});return t?{hasActiveBonus:!0,activeBatchExpiresAt:t.expiresAt}:{hasActiveBonus:!1}}let d="force-dynamic",f="force-no-store";async function m(){let e=await (0,u.getServerSession)(l.L);if(!e||!e.user?.id)return o.Z.json({error:"Unauthorized"},{status:401});let r=await c(e.user.id);return o.Z.json(r)}let y=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/referrals/status/route",pathname:"/api/referrals/status",filename:"route",bundlePath:"app/api/referrals/status/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\referrals\\status\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:w,staticGenerationAsyncStorage:h,serverHooks:x,headerHooks:g,staticGenerationBailout:v}=y,b="/api/referrals/status/route";function j(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:h})}},72840:(e,r,t)=>{t.d(r,{L:()=>o});var a=t(86485),s=t(47033),n=t(6521),i=t.n(n);let o={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,a.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),a=await s.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!a||!a.password||!await i().compare(t,a.password))return null;if(!a.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:a.id,name:a.name??"",email:a.email,role:a.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>s});var a=t(53524);let s=globalThis.prisma??new a.PrismaClient({log:["error"]})},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var a={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.default}});var s=t(77381);Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))});var n=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&({}).hasOwnProperty.call(e,n)){var o=s?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}(t(49605));function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:r})(e)}Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(35295));module.exports=a})();1:"use strict";(()=>{var e={};e.id=4075,e.ids=[4075,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},31901:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>w,originalPathname:()=>b,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>f,serverHooks:()=>g,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>x});var s={};t.r(s),t.d(s,{GET:()=>d,dynamic:()=>p,fetchCache:()=>c});var n=t(95419),o=t(69108),i=t(99678),a=t(81355),u=t(72840),l=t(78070);let p="force-dynamic",c="force-no-store";async function d(){let e=await (0,a.getServerSession)(u.L);return e?.user?.email?l.Z.json({email:e.user.email}):l.Z.json({error:"Unauthorized"},{status:401})}let f=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/session/route",pathname:"/api/session",filename:"route",bundlePath:"app/api/session/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\session\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:y,serverHooks:g,headerHooks:w,staticGenerationBailout:x}=f,b="/api/session/route";function h(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:y})}},72840:(e,r,t)=>{t.d(r,{L:()=>a});var s=t(86485),n=t(47033),o=t(6521),i=t.n(o);let a={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,s.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),s=await n.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!s||!s.password||!await i().compare(t,s.password))return null;if(!s.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:s.id,name:s.name??"",email:s.email,role:s.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>n});var s=t(53524);let n=globalThis.prisma??new s.PrismaClient({log:["error"]})},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var s={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o.default}});var n=t(77381);Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e))&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))});var o=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(r);if(t&&t.has(e))return t.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,t&&t.set(e,s),s}(t(49605));function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:r})(e)}Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e))&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(31901));module.exports=s})();1:(()=>{var e={};e.id=5409,e.ids=[5409,7033],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},11825:()=>{},4987:(e,r,t)=>{"use strict";t.r(r),t.d(r,{headerHooks:()=>v,originalPathname:()=>w,patchFetch:()=>y,requestAsyncStorage:()=>h,routeModule:()=>f,serverHooks:()=>x,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>q});var s={};t.r(s),t.d(s,{POST:()=>d});var i=t(95419),n=t(69108),o=t(99678),a=t(78070),u=t(47033),p=t(6521),c=t.n(p),l=t(18272),m=t(64662);async function d(e){try{let{email:r,password:t,name:s}=await e.json();if(!r||!t)return a.Z.json({ok:!1,error:"missing_fields"},{status:400});let i=String(r).toLowerCase().trim();if(await u.prisma.user.findUnique({where:{email:i},select:{id:!0}}))return a.Z.json({ok:!1,error:"account_exists"},{status:409});let n=await c().hash(String(t),10),o=(0,l.Z)(),p=new Date(Date.now()+864e5),d=await u.prisma.user.create({data:{email:i,name:s??null,password:n,emailVerifiedAt:null,verifyToken:o,verifyTokenExpiry:p,role:"user",trustScore:0},select:{id:!0,email:!0}});return(async()=>{try{await (0,m.z)(d.email,o)}catch(e){console.error("[signup] email send failed:",e)}})(),a.Z.json({ok:!0,user:d},{status:201})}catch(e){return console.error("[signup] ERROR",e),a.Z.json({ok:!1,error:"signup_failed"},{status:500})}}let f=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/signup/route",pathname:"/api/signup",filename:"route",bundlePath:"app/api/signup/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\signup\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:x,headerHooks:v,staticGenerationBailout:q}=f,w="/api/signup/route";function y(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:g})}},47033:(e,r,t)=>{"use strict";t.d(r,{prisma:()=>i});var s=t(53524);let i=globalThis.prisma??new s.PrismaClient({log:["error"]})},64662:(e,r,t)=>{"use strict";t.d(r,{z:()=>o});var s=t(61584),i=t.n(s);let n=process.env.EMAIL_VERIFY_BASE_URL||"http://localhost:3000";async function o(e,r){if(!process.env.SENDGRID_API_KEY)throw Error("Missing SENDGRID_API_KEY");i().setApiKey(process.env.SENDGRID_API_KEY);let t=`${n}/verify?token=${encodeURIComponent(r)}`;await i().send({to:e,from:"admin@linkmint.co",subject:"Verify your email",html:`
1:"use strict";(()=>{var e={};e.id=887,e.ids=[887,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},11226:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>b,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>f,serverHooks:()=>w,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>g});var a={};t.r(a),t.d(a,{POST:()=>d,dynamic:()=>p,fetchCache:()=>c});var s=t(95419),o=t(69108),n=t(99678),i=t(78070),u=t(47033),l=t(94033);let p="force-dynamic",c="force-no-store";async function d(e){try{let r=await (0,l.u0)();if(!r.ok)return i.Z.json({error:r.error},{status:r.status});let{userEmail:t,amount:a=4.55,source:s="TEST_AMAZON"}=await e.json(),o=await u.prisma.user.findUnique({where:{email:(t||"").toLowerCase()}});if(!o)return i.Z.json({error:"User not found"},{status:404});let n=await u.prisma.payout.create({data:{userId:o.id,amount:Number(a),status:"Pending",source:s}});return i.Z.json({success:!0,payoutId:n.id})}catch(e){return console.error("simulate-purchase error:",e),i.Z.json({error:"Server error"},{status:500})}}let f=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/simulate-purchase/route",pathname:"/api/simulate-purchase",filename:"route",bundlePath:"app/api/simulate-purchase/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\simulate-purchase\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:y,serverHooks:w,headerHooks:h,staticGenerationBailout:g}=f,b="/api/simulate-purchase/route";function v(){return(0,n.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:y})}},72840:(e,r,t)=>{t.d(r,{L:()=>i});var a=t(86485),s=t(47033),o=t(6521),n=t.n(o);let i={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,a.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),a=await s.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!a||!a.password||!await n().compare(t,a.password))return null;if(!a.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:a.id,name:a.name??"",email:a.email,role:a.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>s});var a=t(53524);let s=globalThis.prisma??new a.PrismaClient({log:["error"]})},94033:(e,r,t)=>{t.d(r,{BB:()=>o,u0:()=>n});var a=t(81355),s=t(72840);function o(){return!0}async function n(){let e=await (0,a.getServerSession)(s.L),r=e?.user?.email?.toLowerCase(),t=function(){let e=process.env.ADMIN_EMAILS||"admin@linkmint.co";return new Set(e.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))}();return r&&t.has(r)?{ok:!0}:{ok:!1,status:403,error:"Forbidden"}}},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var a={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o.default}});var s=t(77381);Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))});var o=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var i=s?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,t&&t.set(e,a),a}(t(49605));function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(11226));module.exports=a})();6:Keep inviting to earn more!`),i.Z.json({success:!0,message:"Simulated referral bonus alert sent."})):i.Z.json({success:!1,error:"Unauthorized"},{status:401})}let m=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/simulate-referral-bonus-alert/route",pathname:"/api/simulate-referral-bonus-alert",filename:"route",bundlePath:"app/api/simulate-referral-bonus-alert/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\simulate-referral-bonus-alert\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:y,staticGenerationAsyncStorage:b,serverHooks:g,headerHooks:w,staticGenerationBailout:h}=m,v="/api/simulate-referral-bonus-alert/route";function O(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:b})}},72840:(e,r,t)=>{t.d(r,{L:()=>i});var a=t(86485),n=t(47033),s=t(6521),o=t.n(s);let i={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,a.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),a=await n.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!a||!a.password||!await o().compare(t,a.password))return null;if(!a.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:a.id,name:a.name??"",email:a.email,role:a.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>n});var a=t(53524);let n=globalThis.prisma??new a.PrismaClient({log:["error"]})},5492:(e,r,t)=>{t.d(r,{O:()=>a});async function a(e){let r=process.env.TELEGRAM_BOT_TOKEN,t=process.env.TELEGRAM_USER_ID;if(!r||!t){console.warn("Telegram bot token or user ID not set.");return}let a=`https://api.telegram.org/bot${r}/sendMessage`;await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:t,text:e,parse_mode:"Markdown"})})}},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var a={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s.default}});var n=t(77381);Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))});var s=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&({}).hasOwnProperty.call(e,s)){var i=n?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(a,s,i):a[s]=e[s]}return a.default=e,t&&t.set(e,a),a}(t(49605));function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(89783));module.exports=a})();1:"use strict";(()=>{var e={};e.id=1356,e.ids=[1356,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},98650:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>b,patchFetch:()=>j,requestAsyncStorage:()=>y,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>x});var n={};t.r(n),t.d(n,{GET:()=>f,dynamic:()=>c,fetchCache:()=>d});var o=t(95419),s=t(69108),a=t(99678),i=t(78070),u=t(81355),l=t(72840),p=t(47033);let c="force-dynamic",d="force-no-store";async function f(e){let r=await (0,u.getServerSession)(l.L);if(!r||!r.user?.email)return i.Z.json({error:"Unauthorized"},{status:401});try{let e=await p.prisma.user.findUnique({where:{email:r.user.email},select:{id:!0,email:!0}});if(!e)return i.Z.json({error:"User not found"},{status:404});return i.Z.json({id:e.id})}catch(e){return console.error("Error fetching user:",e),i.Z.json({error:"Internal server error"},{status:500})}}let m=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/user/route",pathname:"/api/user",filename:"route",bundlePath:"app/api/user/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\user\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:y,staticGenerationAsyncStorage:w,serverHooks:g,headerHooks:h,staticGenerationBailout:x}=m,b="/api/user/route";function j(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:w})}},72840:(e,r,t)=>{t.d(r,{L:()=>i});var n=t(86485),o=t(47033),s=t(6521),a=t.n(s);let i={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,n.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),n=await o.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!n||!n.password||!await a().compare(t,n.password))return null;if(!n.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:n.id,name:n.name??"",email:n.email,role:n.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>o});var n=t(53524);let o=globalThis.prisma??new n.PrismaClient({log:["error"]})},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var n={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s.default}});var o=t(77381);Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))});var s=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&({}).hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}(t(49605));function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(98650));module.exports=n})();1:"use strict";(()=>{var e={};e.id=5756,e.ids=[5756,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},72160:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>b,originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>y,routeModule:()=>f,serverHooks:()=>g,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>h});var o={};t.r(o),t.d(o,{GET:()=>m,dynamic:()=>c,fetchCache:()=>d});var s=t(95419),n=t(69108),i=t(99678),a=t(78070),u=t(81355),l=t(72840),p=t(47033);let c="force-dynamic",d="force-no-store";async function m(){let e=await (0,u.getServerSession)(l.L);if(!e||!e.user?.email)return a.Z.json({error:"Unauthorized"},{status:401});try{let r=await p.prisma.user.findUnique({where:{email:e.user.email},select:{id:!0}});if(!r)return a.Z.json({error:"User not found"},{status:404});let t=await p.prisma.payout.findMany({where:{userId:r.id},select:{status:!0,amount:!0}}),o=0,s=0,n=0;for(let e of t){let r=String(e.status).toLowerCase(),t="function"==typeof e.amount?.toNumber?e.amount.toNumber():Number(e.amount);"pending"===r?o+=t:"approved"===r?s+=t:"paid"===r&&(n+=t)}return a.Z.json({pending:o,approved:s,paid:n})}catch(e){return console.error("Error fetching commissions:",e),a.Z.json({error:"Internal server error"},{status:500})}}let f=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/user/commissions/route",pathname:"/api/user/commissions",filename:"route",bundlePath:"app/api/user/commissions/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\user\\commissions\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:y,staticGenerationAsyncStorage:w,serverHooks:g,headerHooks:b,staticGenerationBailout:h}=f,v="/api/user/commissions/route";function x(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:w})}},72840:(e,r,t)=>{t.d(r,{L:()=>a});var o=t(86485),s=t(47033),n=t(6521),i=t.n(n);let a={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,o.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),o=await s.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!o||!o.password||!await i().compare(t,o.password))return null;if(!o.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:o.id,name:o.name??"",email:o.email,role:o.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{t.d(r,{prisma:()=>s});var o=t(53524);let s=globalThis.prisma??new o.PrismaClient({log:["error"]})},77381:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});var o={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.default}});var s=t(77381);Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))});var n=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&({}).hasOwnProperty.call(e,n)){var a=s?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(o,n,a):o[n]=e[n]}return o.default=e,t&&t.set(e,o),o}(t(49605));function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:r})(e)}Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[1638,6206,7439,6521,6929,6255],()=>t(72160));module.exports=o})();1:"use strict";(()=>{var e={};e.id=3024,e.ids=[3024,7033],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9074:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>f,originalPathname:()=>h,patchFetch:()=>w,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>v});var i={};t.r(i),t.d(i,{GET:()=>p});var a=t(95419),s=t(69108),n=t(99678),o=t(78070),u=t(47033);async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("token");if(!t)return o.Z.json({success:!1,error:"Token missing"},{status:400});let i=await u.prisma.verificationToken.findUnique({where:{token:t}});if(!i)return o.Z.json({success:!1,error:"Invalid or expired token"},{status:400});if(i.expires<new Date)return o.Z.json({success:!1,error:"Token expired"},{status:400});return await u.prisma.user.update({where:{id:i.userId},data:{emailVerifiedAt:new Date,updatedAt:new Date}}),await u.prisma.verificationToken.delete({where:{id:i.id}}),o.Z.json({success:!0,message:"Email verified successfully"})}catch(e){return console.error("Email verification error:",e),o.Z.json({success:!1,error:"Internal server error"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/verify-email/route",pathname:"/api/verify-email",filename:"route",bundlePath:"app/api/verify-email/route"},resolvedPagePath:"C:\\Users\\epo78\\Documents\\Linkmint\\app\\api\\verify-email\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:f,staticGenerationBailout:v}=l,h="/api/verify-email/route";function w(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},47033:(e,r,t)=>{t.d(r,{prisma:()=>a});var i=t(53524);let a=globalThis.prisma??new i.PrismaClient({log:["error"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[1638,6206],()=>t(9074));module.exports=i})();1:(()=>{var e={};e.id=7702,e.ids=[7702,7033],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},11825:()=>{},92440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(50482),a=t(69108),i=t(62563),n=t.n(i),o=t(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,89815)),"C:\\Users\\epo78\\Documents\\Linkmint\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,96339)),"C:\\Users\\epo78\\Documents\\Linkmint\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,82917)),"C:\\Users\\epo78\\Documents\\Linkmint\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\epo78\\Documents\\Linkmint\\app\\dashboard\\page.tsx"],u="/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},16383:(e,r,t)=>{Promise.resolve().then(t.bind(t,50099)),Promise.resolve().then(t.bind(t,96984)),Promise.resolve().then(t.bind(t,7849)),Promise.resolve().then(t.bind(t,81245)),Promise.resolve().then(t.bind(t,76987))},84308:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},18393:()=>{},35303:()=>{},50099:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(95344),a=t(3729);function i(){let[e,r]=(0,a.useState)({pending:0,approved:0,paid:0});return(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/user/commissions/summary"),t=await e.json();e.ok&&r({pending:t.pending??0,approved:t.approved??0,paid:t.paid??0})}catch(e){console.error("Failed to fetch commissions",e)}})()},[]),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mt-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4 text-teal-700",children:"Your Commissions"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsxs)("li",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pending"}),(0,s.jsxs)("span",{className:"text-yellow-600",children:["$",(e?.pending??0).toFixed(2)]})]}),(0,s.jsxs)("li",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Approved"}),(0,s.jsxs)("span",{className:"text-blue-600",children:["$",(e?.approved??0).toFixed(2)]})]}),(0,s.jsxs)("li",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Paid"}),(0,s.jsxs)("span",{className:"text-green-600",children:["$",(e?.paid??0).toFixed(2)]})]})]})]})}},96984:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(95344);function a({inviterEmail:e,bonusActive:r,bonusEndsAt:t}){return(0,s.jsxs)("div",{className:"border rounded-lg p-4 shadow bg-white dark:bg-gray-900",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"\uD83C\uDF96 Founder Reward"}),e?(0,s.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["You were invited by ",s.jsx("span",{className:"font-semibold",children:e})]}):s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"You joined as an original Founder."}),r?(0,s.jsxs)("div",{className:"mt-3",children:[s.jsx("p",{className:"text-green-600 font-semibold",children:"✅ 5% Founder Bonus Active"}),t&&(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Bonus ends on ",new Date(t).toLocaleDateString()]})]}):s.jsx("p",{className:"mt-3 text-yellow-600 font-medium",children:"⚠ No active founder bonus"})]})}t(3729)},7849:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(95344),a=t(47674);function i(){return s.jsx("button",{onClick:()=>(0,a.signOut)({callbackUrl:"/login"}),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition",children:"Logout"})}},81245:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(95344),a=t(3729);function i(){let[e,r]=(0,a.useState)(null),[t,i]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{(async function(){try{let e=await fetch("/api/referrals"),t=await e.json();console.log("Referral API response:",t),t.error?(console.error("Referral API error:",t.error),r(null)):r({referralLink:t.referralLink,totalReferrals:t.totalReferrals||0,expiresAt:t.expiresAt,referredUsers:t.referredUsers||[]})}catch(e){console.error("Failed to load referrals:",e),r(null)}finally{i(!1)}})()},[]),t)return s.jsx("div",{className:"text-gray-500",children:"Loading referral info..."});if(!e)return s.jsx("div",{className:"text-red-500",children:"Failed to load referral info."});let n=e.expiresAt?function(e){let r=new Date;return Math.max(0,Math.floor((new Date(e).getTime()-r.getTime())/864e5))}(e.expiresAt):null;return(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4 border",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Referral Status"}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Your referral link:"})," ",s.jsx("a",{href:e.referralLink,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:e.referralLink})]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Total invited:"})," ",e.totalReferrals]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Expires:"})," ",e.expiresAt?new Date(e.expiresAt).toLocaleString():"No expiration date"]}),null!==n&&(0,s.jsxs)("p",{className:"text-yellow-600 mt-2",children:["\uD83D\uDD52 ",n," days remaining in bonus window."]}),s.jsx("ul",{className:"list-disc ml-6 text-sm text-gray-700 mt-2",children:e.referredUsers.map((e,r)=>s.jsx("li",{children:e},r))})]})}},76987:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(95344),a=t(3729),i=t(47665);function n(){let[e,r]=(0,a.useState)(null),[t,n]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let e=await i.Z.get("/api/referrals");console.log("\uD83E\uDDEA API response:",e.data),r(e.data)}catch(e){console.error("Failed to fetch referral stats",e)}finally{n(!1)}})()},[]),t)?s.jsx("div",{className:"p-4 bg-white shadow rounded",children:"Loading..."}):e?(0,s.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2 text-blue-600",children:"Your Referral Status ✅ DASHBOARD VERSION"}),(0,s.jsxs)("p",{className:"mb-2",children:[s.jsx("strong",{children:"Referral Link:"})," ",s.jsx("a",{href:e.referralLink,className:"text-blue-500 underline",target:"_blank",rel:"noopener noreferrer",children:e.referralLink})]}),(0,s.jsxs)("p",{className:"mb-2",children:[s.jsx("strong",{children:"Total Referrals:"})," ",e.totalReferrals]}),(0,s.jsxs)("p",{className:"mb-2",children:[s.jsx("strong",{children:"Status:"})," ",e.isActive?"Active":"Inactive"]}),e.expiresAt&&(0,s.jsxs)("p",{className:"mb-2",children:[s.jsx("strong",{children:"Expires At:"})," ",new Date(e.expiresAt).toLocaleString()]})]}):s.jsx("div",{className:"p-4 bg-red-100 text-red-700",children:"Error loading referral data."})}},96339:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(25036);function a({children:e}){return s.jsx(s.Fragment,{children:e})}},89815:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D,dynamic:()=>E,fetchCache:()=>_});var s=t(25036),a=t(867),i=t(47033),n=t(49605),o=t(72840),l=t(86843);let d=(0,l.createProxy)(String.raw`C:\Users\epo78\Documents\Linkmint\components\dashboard\LogoutButton.tsx`),{__esModule:c,$$typeof:u}=d,m=d.default,p=(0,l.createProxy)(String.raw`C:\Users\epo78\Documents\Linkmint\components\dashboard\ReferralCardWrapper.tsx`),{__esModule:x,$$typeof:h}=p,f=p.default,g=(0,l.createProxy)(String.raw`C:\Users\epo78\Documents\Linkmint\components\dashboard\ReferralStatusCard.tsx`),{__esModule:b,$$typeof:j}=g,y=g.default,w=(0,l.createProxy)(String.raw`C:\Users\epo78\Documents\Linkmint\components\dashboard\CommissionCard.tsx`),{__esModule:v,$$typeof:N}=w,k=w.default,P=(0,l.createProxy)(String.raw`C:\Users\epo78\Documents\Linkmint\components\dashboard\FounderRewardCard.tsx`),{__esModule:L,$$typeof:S}=P,A=P.default,E="force-dynamic",_="force-no-store";async function D(){let e=await (0,n.getServerSession)(o.L);e&&e.user?.email||(0,a.redirect)("/login");let r=await i.prisma.user.findUnique({where:{email:e.user.email},select:{id:!0,email:!0,emailVerifiedAt:!0,trustScore:!0,createdAt:!0,referredBy:{select:{email:!0}}}});r||(0,a.redirect)("/login");let t=new Date((r.createdAt instanceof Date?r.createdAt:new Date(r.createdAt)).getTime()+7776e6),l=new Date<t;return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Welcome to your Dashboard!"}),s.jsx(m,{})]}),s.jsx(A,{inviterEmail:r.referredBy?.email??null,bonusActive:l,bonusEndsAt:t.toISOString()}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4 border",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Email:"})," ",r.email]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Email Verified:"})," ",r.emailVerifiedAt?s.jsx("span",{className:"text-green-600",children:"Yes"}):s.jsx("span",{className:"text-red-600",children:"No"})]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Trust Score:"})," ",r.trustScore??"N/A"]})]}),s.jsx(f,{}),s.jsx(y,{}),s.jsx(k,{})]})}},82917:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m,dynamic:()=>n,fetchCache:()=>o,metadata:()=>c,revalidate:()=>l,viewport:()=>u});var s=t(25036),a=t(19936),i=t.n(a);t(67272);let n="force-dynamic",o="force-no-store",l=0,d=process.env.NEXT_PUBLIC_SITE_URL??"http://localhost:3000",c={metadataBase:new URL(d),title:{default:"Linkmint — Earn From Every Link You Share",template:"%s \xb7 Linkmint"},description:"Turn any link into a payout. No followers needed. Built for trust.",keywords:["link monetization","affiliate","payouts","sharing"],applicationName:"Linkmint",icons:{icon:"/favicon.ico"},openGraph:{type:"website",url:d,title:"Linkmint",description:"Earn from every link you share. Built for trust.",images:["/opengraph-image.png"]},twitter:{card:"summary_large_image",title:"Linkmint — Earn From Every Link You Share",description:"Turn any link into a payout. No followers needed. Built for trust.",images:["/opengraph-image.png"]}},u={width:"device-width",initialScale:1,themeColor:"#111111",colorScheme:"light"};function m({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,className:i().variable,children:s.jsx("body",{className:"min-h-screen bg-white text-gray-900 antialiased",children:e})})}},72840:(e,r,t)=>{"use strict";t.d(r,{L:()=>o});var s=t(86485),a=t(47033),i=t(6521),n=t.n(i);let o={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,s.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),s=await a.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!s||!s.password||!await n().compare(t,s.password))return null;if(!s.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:s.id,name:s.name??"",email:s.email,role:s.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{"use strict";t.d(r,{prisma:()=>a});var s=t(53524);let a=globalThis.prisma??new s.PrismaClient({log:["error"]})},67272:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,7439,9984,6521,6929,6255,4806,7674],()=>t(92440));module.exports=s})();1:(()=>{var e={};e.id=4580,e.ids=[4580,7033],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},11825:()=>{},46871:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var s=t(50482),a=t(69108),i=t(62563),n=t.n(i),o=t(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=["",{children:["dashboard",{children:["referrals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13289)),"C:\\Users\\epo78\\Documents\\Linkmint\\app\\dashboard\\referrals\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,96339)),"C:\\Users\\epo78\\Documents\\Linkmint\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,82917)),"C:\\Users\\epo78\\Documents\\Linkmint\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\epo78\\Documents\\Linkmint\\app\\dashboard\\referrals\\page.tsx"],d="/dashboard/referrals/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/referrals/page",pathname:"/dashboard/referrals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},75014:(e,r,t)=>{Promise.resolve().then(t.bind(t,45838))},84308:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},18393:()=>{},35303:()=>{},45838:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(95344),a=t(3729),i=t(47665);function n({userId:e}){let[r,t]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{let e=await i.Z.get("/api/referrals/list");t(e.data)}catch(e){console.error("Error fetching referral data:",e)}finally{o(!1)}})()},[]),(0,s.jsxs)("div",{className:"p-6 border rounded bg-white shadow text-center",children:[s.jsx("h2",{className:"text-lg font-semibold text-teal-700 mb-4",children:"Your Referrals"}),n?s.jsx("p",{className:"text-gray-500 text-sm",children:"Loading referral data..."}):0===r.length?s.jsx("p",{className:"text-gray-600 text-sm",children:"No referrals yet."}):r.map((e,r)=>{let t=Math.max(0,Math.ceil((new Date(e.expiresAt).getTime()-Date.now())/864e5));return(0,s.jsxs)("div",{className:"mb-4 p-4 border rounded bg-slate-50 text-left shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-teal-600 mb-2",children:["Batch #",r+1," — ",e.referredUsers.length,"/3 referrals"]}),s.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700 mb-2",children:e.referredUsers.map((e,r)=>(0,s.jsxs)("li",{children:[e.email," — joined"," ",new Date(e.createdAt).toLocaleDateString()]},r))}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Days remaining in bonus window:"," ",s.jsx("span",{className:"font-semibold",children:t})]})]},r)})]})}},96339:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(25036);function a({children:e}){return s.jsx(s.Fragment,{children:e})}},13289:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m,dynamic:()=>d,fetchCache:()=>p});var s=t(25036),a=t(81355),i=t(72840);let n=(0,t(86843).createProxy)(String.raw`C:\Users\epo78\Documents\Linkmint\components\ReferralStatusCard.tsx`),{__esModule:o,$$typeof:l}=n,c=n.default;var u=t(867);let d="force-dynamic",p="force-no-store";async function m(){let e=await (0,a.getServerSession)(i.L);return e&&e.user?.id||(0,u.redirect)("/login"),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Your Referral Status"}),s.jsx(c,{userId:e.user.id})]})}},82917:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p,dynamic:()=>n,fetchCache:()=>o,metadata:()=>u,revalidate:()=>l,viewport:()=>d});var s=t(25036),a=t(19936),i=t.n(a);t(67272);let n="force-dynamic",o="force-no-store",l=0,c=process.env.NEXT_PUBLIC_SITE_URL??"http://localhost:3000",u={metadataBase:new URL(c),title:{default:"Linkmint — Earn From Every Link You Share",template:"%s \xb7 Linkmint"},description:"Turn any link into a payout. No followers needed. Built for trust.",keywords:["link monetization","affiliate","payouts","sharing"],applicationName:"Linkmint",icons:{icon:"/favicon.ico"},openGraph:{type:"website",url:c,title:"Linkmint",description:"Earn from every link you share. Built for trust.",images:["/opengraph-image.png"]},twitter:{card:"summary_large_image",title:"Linkmint — Earn From Every Link You Share",description:"Turn any link into a payout. No followers needed. Built for trust.",images:["/opengraph-image.png"]}},d={width:"device-width",initialScale:1,themeColor:"#111111",colorScheme:"light"};function p({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,className:i().variable,children:s.jsx("body",{className:"min-h-screen bg-white text-gray-900 antialiased",children:e})})}},72840:(e,r,t)=>{"use strict";t.d(r,{L:()=>o});var s=t(86485),a=t(47033),i=t(6521),n=t.n(i);let o={session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,providers:[(0,s.Z)({name:"Email & Password",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.email||!e?.password)return null;let r=String(e.email).trim().toLowerCase(),t=String(e.password),s=await a.prisma.user.findUnique({where:{email:r},select:{id:!0,name:!0,email:!0,password:!0,role:!0,emailVerifiedAt:!0}});if(!s||!s.password||!await n().compare(t,s.password))return null;if(!s.emailVerifiedAt)throw Error("EMAIL_NOT_VERIFIED");return{id:s.id,name:s.name??"",email:s.email,role:s.role??"USER"}}})],pages:{signIn:"/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role??"USER"),e),session:async({session:e,token:r})=>(e?.user&&(e.user.id=r?.id,e.user.role=r?.role??"USER"),e)}}},47033:(e,r,t)=>{"use strict";t.d(r,{prisma:()=>a});var s=t(53524);let a=globalThis.prisma??new s.PrismaClient({log:["error"]})},77381:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},81355:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i.default}});var a=t(77381);Object.keys(a).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e))&&(e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))});var i=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var s={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=e[i]}return s.default=e,t&&t.set(e,s),s}(t(49605));function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}Object.keys(i).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(s,e))&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))})},67272:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,7439,9984,6521,6929,6255,4806],()=>t(46871));module.exports=s})();6: */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},o=e.length;if(o<2)return r;var i=t&&t.decode||c,s=0,a=0,d=0;do{if(-1===(a=e.indexOf("=",s)))break;if(-1===(d=e.indexOf(";",s)))d=o;else if(a>d){s=e.lastIndexOf(";",a-1)+1;continue}var p=u(e,s,a),h=l(e,a,p),f=e.slice(p,h);if(!n.call(r,f)){var _=u(e,a+1,d),g=l(e,d,_);34===e.charCodeAt(_)&&34===e.charCodeAt(g-1)&&(_++,g--);var y=e.slice(_,g);r[f]=function(e,t){try{return t(e)}catch(t){return e}}(y,i)}s=d+1}while(s<o);return r},t.serialize=function(e,t,n){var u=n&&n.encode||encodeURIComponent;if("function"!=typeof u)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var l=u(t);if(!i.test(l))throw TypeError("argument val is invalid");var c=e+"="+l;if(!n)return c;if(null!=n.maxAge){var d=Math.floor(n.maxAge);if(!isFinite(d))throw TypeError("option maxAge is invalid");c+="; Max-Age="+d}if(n.domain){if(!s.test(n.domain))throw TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!a.test(n.path))throw TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){var p=n.expires;if("[object Date]"!==r.call(p)||isNaN(p.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+p.toUTCString()}if(n.httpOnly&&(c+="; HttpOnly"),n.secure&&(c+="; Secure"),n.partitioned&&(c+="; Partitioned"),n.priority)switch("string"==typeof n.priority?n.priority.toLowerCase():n.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(e,t,r){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<r);return r}function l(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return r}function c(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},22680:(e,t,r)=>{"use strict";let n=r(50826),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),u=Symbol("maxAge"),l=Symbol("dispose"),c=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1;class _{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[o]=e.max||1/0;let t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[l]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[o]=e||1/0,v(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[u]=e,v(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[i]=0,this[d].forEach(e=>{e.length=this[s](e.value,e.key),this[i]+=e.length})),v(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){let n=r.prev;b(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){let n=r.next;b(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach(e=>this[l](e.key,e.value)),this[p]=new Map,this[d]=new n,this[i]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[o])return m(this,this[p].get(e)),!1;let s=this[p].get(e).value;return this[l]&&!this[c]&&this[l](e,s.value),s.now=n,s.maxAge=r,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),v(this),!0}let h=new w(e,t,a,n,r);return h.length>this[o]?(this[l]&&this[l](e,t),!1):(this[i]+=h.length,this[d].unshift(h),this[p].set(e,this[d].head),v(this),!0)}has(e){return!!this[p].has(e)&&!y(this,this[p].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[d].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[p].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{let e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,r)=>{let n=e[p].get(t);if(n){let t=n.value;if(y(e,t)){if(m(e,n),!e[a])return}else r&&(e[h]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},v=e=>{if(e[i]>e[o])for(let t=e[d].tail;e[i]>e[o]&&null!==t;){let r=t.prev;m(e,t),t=r}},m=(e,t)=>{if(t){let r=t.value;e[l]&&e[l](r.key,r.value),e[i]-=r.length,e[p].delete(r.key),e[d].removeNode(t)}};class w{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}let b=(e,t,r,n)=>{let o=r.value;y(e,o)&&(m(e,r),e[a]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=_},26100:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedStrategy=t.UnknownError=t.OAuthCallbackError=t.MissingSecret=t.MissingAuthorize=t.MissingAdapterMethods=t.MissingAdapter=t.MissingAPIRoute=t.InvalidCallbackUrl=t.AccountNotLinkedError=void 0,t.adapterErrorHandler=function(e,t){if(e)return Object.keys(e).reduce(function(r,n){return r[n]=(0,i.default)(o.default.mark(function r(){var i,s,a,u,l,c=arguments;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,s=Array(i=c.length),a=0;a<i;a++)s[a]=c[a];return t.debug("adapter_".concat(n),{args:s}),u=e[n],r.next=6,u.apply(void 0,s);case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(0),t.error("adapter_error_".concat(n),r.t0),(l=new _(r.t0)).name="".concat(y(n),"Error"),l;case 15:case"end":return r.stop()}},r,null,[[0,9]])})),r},{})},t.capitalize=y,t.eventsErrorHandler=function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=(0,i.default)(o.default.mark(function r(){var i,s=arguments;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=e[n],r.next=4,i.apply(void 0,s);case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(0),t.error("".concat(g(n),"_EVENT_ERROR"),r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])})),r},{})},t.upperSnake=g;var o=n(r(50075)),i=n(r(2756)),s=n(r(74300)),a=n(r(30984)),u=n(r(43490)),l=n(r(7079)),c=n(r(16829)),d=n(r(76847)),p=n(r(81044));function h(e,t,r){return t=(0,c.default)(t),(0,l.default)(e,f()?Reflect.construct(t,r||[],(0,c.default)(e).constructor):t.apply(e,r))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var _=t.UnknownError=function(e){function t(e){var r,n;return(0,a.default)(this,t),(n=h(this,t,[null!==(r=null==e?void 0:e.message)&&void 0!==r?r:e])).name="UnknownError",n.code=e.code,e instanceof Error&&(n.stack=e.stack),n}return(0,d.default)(t,e),(0,u.default)(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}])}((0,p.default)(Error));function g(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function y(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}t.OAuthCallbackError=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","OAuthCallbackError"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_),t.AccountNotLinkedError=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","AccountNotLinkedError"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_),t.MissingAPIRoute=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","MissingAPIRouteError"),(0,s.default)(e,"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_),t.MissingSecret=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","MissingSecretError"),(0,s.default)(e,"code","NO_SECRET"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_),t.MissingAuthorize=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","MissingAuthorizeError"),(0,s.default)(e,"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_),t.MissingAdapter=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","MissingAdapterError"),(0,s.default)(e,"code","EMAIL_REQUIRES_ADAPTER_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_),t.MissingAdapterMethods=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","MissingAdapterMethodsError"),(0,s.default)(e,"code","MISSING_ADAPTER_METHODS_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_),t.UnsupportedStrategy=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","UnsupportedStrategyError"),(0,s.default)(e,"code","CALLBACK_CREDENTIALS_JWT_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_),t.InvalidCallbackUrl=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=h(this,t,[].concat(n)),(0,s.default)(e,"name","InvalidCallbackUrl"),(0,s.default)(e,"code","INVALID_CALLBACK_URL_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(_)},68638:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.AuthHandler=g;var o=h(r(52370)),i=r(61530),s=h(r(19254)),a=n(r(48296)),u=r(33274),l=r(15486),c=r(44939),d=r(83191);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}async function f(e){try{return await e.json()}catch(e){}}async function _(e){var t,r,n,o;if(e instanceof Request){let t=new URL(e.url),s=t.pathname.split("/").slice(3),a=Object.fromEntries(e.headers),u=Object.fromEntries(t.searchParams);return u.nextauth=s,{action:s[0],method:e.method,headers:a,body:await f(e),cookies:(0,d.parse)(null!==(r=e.headers.get("cookie"))&&void 0!==r?r:""),providerId:s[1],error:null!==(n=t.searchParams.get("error"))&&void 0!==n?n:s[1],origin:(0,i.detectOrigin)(null!==(o=a["x-forwarded-host"])&&void 0!==o?o:a.host,a["x-forwarded-proto"]),query:u}}let{headers:s}=e,a=null!==(t=null==s?void 0:s["x-forwarded-host"])&&void 0!==t?t:null==s?void 0:s.host;return e.origin=(0,i.detectOrigin)(a,null==s?void 0:s["x-forwarded-proto"]),e}async function g(e){var t,r,n,i,d,p,h;let{options:f,req:g}=e,y=await _(g);(0,o.setLogger)(f.logger,f.debug);let v=(0,l.assertConfig)({options:f,req:y});if(Array.isArray(v))v.forEach(o.default.warn);else if(v instanceof Error){if(o.default.error(v.code,v),!["signin","signout","error","verify-request"].includes(y.action)||"GET"!==y.method)return{status:500,headers:[{key:"Content-Type",value:"application/json"}],body:{message:"There is a problem with the server configuration. Check the server logs for more information."}};let{pages:e,theme:t}=f,r=(null==e?void 0:e.error)&&(null===(d=y.query)||void 0===d||null===(d=d.callbackUrl)||void 0===d?void 0:d.startsWith(e.error));return!(null!=e&&e.error)||r?(r&&o.default.error("AUTH_ON_ERROR_PAGE_ERROR",Error(`The error page ${null==e?void 0:e.error} should not require authentication`)),(0,a.default)({theme:t}).error({error:"configuration"})):{redirect:`${e.error}?error=Configuration`}}let{action:m,providerId:w,error:b,method:k="GET"}=y,{options:x,cookies:A}=await (0,u.init)({authOptions:f,action:m,providerId:w,origin:y.origin,callbackUrl:null!==(t=null===(r=y.body)||void 0===r?void 0:r.callbackUrl)&&void 0!==t?t:null===(n=y.query)||void 0===n?void 0:n.callbackUrl,csrfToken:null===(i=y.body)||void 0===i?void 0:i.csrfToken,cookies:y.cookies,isPost:"POST"===k}),S=new c.SessionStore(x.cookies.sessionToken,y,x.logger);if("GET"===k){let e=(0,a.default)({...x,query:y.query,cookies:A}),{pages:t}=x;switch(m){case"providers":return await s.providers(x.providers);case"session":{let e=await s.session({options:x,sessionStore:S});return e.cookies&&A.push(...e.cookies),{...e,cookies:A}}case"csrf":return{headers:[{key:"Content-Type",value:"application/json"}],body:{csrfToken:x.csrfToken},cookies:A};case"signin":if(t.signIn){let e=`${t.signIn}${t.signIn.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(x.callbackUrl)}`;return b&&(e=`${e}&error=${encodeURIComponent(b)}`),{redirect:e,cookies:A}}return e.signin();case"signout":if(t.signOut)return{redirect:t.signOut,cookies:A};return e.signout();case"callback":if(x.provider){let e=await s.callback({body:y.body,query:y.query,headers:y.headers,cookies:y.cookies,method:k,options:x,sessionStore:S});return e.cookies&&A.push(...e.cookies),{...e,cookies:A}}break;case"verify-request":if(t.verifyRequest)return{redirect:t.verifyRequest,cookies:A};return e.verifyRequest();case"error":if(["Signin","OAuthSignin","OAuthCallback","OAuthCreateAccount","EmailCreateAccount","Callback","OAuthAccountNotLinked","EmailSignin","CredentialsSignin","SessionRequired"].includes(b))return{redirect:`${x.url}/signin?error=${b}`,cookies:A};if(t.error)return{redirect:`${t.error}${t.error.includes("?")?"&":"?"}error=${b}`,cookies:A};return e.error({error:b})}}else if("POST"===k)switch(m){case"signin":if(x.csrfTokenVerified&&x.provider){let e=await s.signin({query:y.query,body:y.body,options:x});return e.cookies&&A.push(...e.cookies),{...e,cookies:A}}return{redirect:`${x.url}/signin?csrf=true`,cookies:A};case"signout":if(x.csrfTokenVerified){let e=await s.signout({options:x,sessionStore:S});return e.cookies&&A.push(...e.cookies),{...e,cookies:A}}return{redirect:`${x.url}/signout?csrf=true`,cookies:A};case"callback":if(x.provider){if("credentials"===x.provider.type&&!x.csrfTokenVerified)return{redirect:`${x.url}/signin?csrf=true`,cookies:A};let e=await s.callback({body:y.body,query:y.query,headers:y.headers,cookies:y.cookies,method:k,options:x,sessionStore:S});return e.cookies&&A.push(...e.cookies),{...e,cookies:A}}break;case"_log":if(f.logger)try{let{code:e,level:t,...r}=null!==(p=y.body)&&void 0!==p?p:{};o.default[t](e,r)}catch(e){o.default.error("LOGGER_ERROR",e)}return{};case"session":if(x.csrfTokenVerified){let e=await s.session({options:x,sessionStore:S,newSession:null===(h=y.body)||void 0===h?void 0:h.data,isUpdate:!0});return e.cookies&&A.push(...e.cookies),{...e,cookies:A}}return{status:400,body:{},cookies:A}}return{status:400,body:`Error: This action with HTTP ${k} is not supported by NextAuth.js`}}},33274:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.init=y;var o=r(6113),i=n(r(52370)),s=r(26100),a=n(r(1200)),u=r(135),l=g(r(44939)),c=g(r(36929)),d=r(29090),p=r(63811),h=r(61958),f=n(r(37027));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}async function y({authOptions:e,providerId:t,action:r,origin:n,cookies:_,callbackUrl:g,csrfToken:y,isPost:v}){var m,w;let b=(0,f.default)(n),k=(0,u.createSecret)({authOptions:e,url:b}),{providers:x,provider:A}=(0,a.default)({providers:e.providers,url:b,providerId:t}),S={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:b,action:r,provider:A,cookies:{...l.defaultCookies(null!==(m=e.useSecureCookies)&&void 0!==m?m:b.base.startsWith("https://")),...e.cookies},secret:k,providers:x,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>{var e;return null!==(e=null===o.randomUUID||void 0===o.randomUUID?void 0:(0,o.randomUUID)())&&void 0!==e?e:(0,o.randomBytes)(32).toString("hex")},...e.session},jwt:{secret:k,maxAge:2592e3,encode:c.encode,decode:c.decode,...e.jwt},events:(0,s.eventsErrorHandler)(null!==(w=e.events)&&void 0!==w?w:{},i.default),adapter:(0,s.adapterErrorHandler)(e.adapter,i.default),callbacks:{...d.defaultCallbacks,...e.callbacks},logger:i.default,callbackUrl:b.origin},E=[],{csrfToken:O,cookie:T,csrfTokenVerified:j}=(0,p.createCSRFToken)({options:S,cookieValue:null==_?void 0:_[S.cookies.csrfToken.name],isPost:v,bodyValue:y});S.csrfToken=O,S.csrfTokenVerified=j,T&&E.push({name:S.cookies.csrfToken.name,value:T,options:S.cookies.csrfToken.options});let{callbackUrl:P,callbackUrlCookie:C}=await (0,h.createCallbackUrl)({options:S,cookieValue:null==_?void 0:_[S.cookies.callbackUrl.name],paramValue:g});return S.callbackUrl=P,C&&E.push({name:S.cookies.callbackUrl.name,value:C,options:S.cookies.callbackUrl.options}),{options:S,cookies:E}}},15486:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.assertConfig=function(e){var t,r,n,l,c,d,p;let h,f,_;let{options:g,req:y}=e,v=[];if(!a&&(y.origin||v.push("NEXTAUTH_URL"),g.secret,g.debug&&v.push("DEBUG_ENABLED")),!g.secret)return new o.MissingSecret("Please define a `secret` in production.");if(!(null!==(t=y.query)&&void 0!==t&&t.nextauth)&&!y.action)return new o.MissingAPIRoute("Cannot find [...nextauth].{js,ts} in `/pages/api/auth`. Make sure the filename is written correctly.");let m=null===(r=y.query)||void 0===r?void 0:r.callbackUrl,w=(0,i.default)(y.origin);if(m&&!u(m,w.base))return new o.InvalidCallbackUrl(`Invalid callback URL. Received: ${m}`);let{callbackUrl:b}=(0,s.defaultCookies)(null!==(n=g.useSecureCookies)&&void 0!==n?n:w.base.startsWith("https://")),k=null===(l=y.cookies)||void 0===l?void 0:l[null!==(c=null===(d=g.cookies)||void 0===d||null===(d=d.callbackUrl)||void 0===d?void 0:d.name)&&void 0!==c?c:b.name];if(k&&!u(k,w.base))return new o.InvalidCallbackUrl(`Invalid callback URL. Received: ${k}`);for(let e of g.providers)"credentials"===e.type?h=!0:"email"===e.type?f=!0:"twitter"===e.id&&"2.0"===e.version&&(_=!0);if(h){let e=(null===(p=g.session)||void 0===p?void 0:p.strategy)==="database",t=!g.providers.some(e=>"credentials"!==e.type);if(e&&t)return new o.UnsupportedStrategy("Signin in with credentials only supported if JWT strategy is enabled");if(g.providers.some(e=>"credentials"===e.type&&!e.authorize))return new o.MissingAuthorize("Must define an authorize() handler to use credentials authentication provider")}if(f){let{adapter:e}=g;if(!e)return new o.MissingAdapter("E-mail login requires an adapter.");let t=["createVerificationToken","useVerificationToken","getUserByEmail"].filter(t=>!e[t]);if(t.length)return new o.MissingAdapterMethods(`Required adapter methods were missing: ${t.join(", ")}`)}return a||(_&&v.push("TWITTER_OAUTH_2_BETA"),a=!0),v};var o=r(26100),i=n(r(37027)),s=r(44939);let a=!1;function u(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch(e){return!1}}},23244:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=r(26100),o=r(135);async function i(e){var t,r,i,s,a,u;let{sessionToken:l,profile:c,account:d,options:p}=e;if(!(null!=d&&d.providerAccountId)||!d.type)throw Error("Missing or invalid provider account");if(!["email","oauth"].includes(d.type))throw Error("Provider not supported");let{adapter:h,jwt:f,events:_,session:{strategy:g,generateSessionToken:y}}=p;if(!h)return{user:c,account:d};let{createUser:v,updateUser:m,getUser:w,getUserByAccount:b,getUserByEmail:k,linkAccount:x,createSession:A,getSessionAndUser:S,deleteSession:E}=h,O=null,T=null,j=!1,P="jwt"===g;if(l){if(P)try{(O=await f.decode({...f,token:l}))&&"sub"in O&&O.sub&&(T=await w(O.sub))}catch(e){}else{let e=await S(l);e&&(O=e.session,T=e.user)}}if("email"===d.type){let e=await k(c.email);if(e)(null===(t=T)||void 0===t?void 0:t.id)!==e.id&&!P&&l&&await E(l),T=await m({id:e.id,emailVerified:new Date}),await (null===(r=_.updateUser)||void 0===r?void 0:r.call(_,{user:T}));else{let{id:e,...t}={...c,emailVerified:new Date};T=await v(t),await (null===(i=_.createUser)||void 0===i?void 0:i.call(_,{user:T})),j=!0}return{session:O=P?{}:await A({sessionToken:await y(),userId:T.id,expires:(0,o.fromDate)(p.session.maxAge)}),user:T,isNewUser:j}}if("oauth"===d.type){let e=await b({providerAccountId:d.providerAccountId,provider:d.provider});if(e){if(T){if(e.id===T.id)return{session:O,user:T,isNewUser:j};throw new n.AccountNotLinkedError("The account is already associated with another user")}return{session:O=P?{}:await A({sessionToken:await y(),userId:e.id,expires:(0,o.fromDate)(p.session.maxAge)}),user:e,isNewUser:j}}{if(T)return await x({...d,userId:T.id}),await (null===(u=_.linkAccount)||void 0===u?void 0:u.call(_,{user:T,account:d,profile:c})),{session:O,user:T,isNewUser:j};let e=c.email?await k(c.email):null;if(e){let t=p.provider;if(null!=t&&t.allowDangerousEmailAccountLinking)T=e;else throw new n.AccountNotLinkedError("Another account already exists with the same e-mail address")}else{let{id:e,...t}={...c,emailVerified:null};T=await v(t)}return await (null===(s=_.createUser)||void 0===s?void 0:s.call(_,{user:T})),await x({...d,userId:T.id}),await (null===(a=_.linkAccount)||void 0===a?void 0:a.call(_,{user:T,account:d,profile:c})),{session:O=P?{}:await A({sessionToken:await y(),userId:T.id,expires:(0,o.fromDate)(p.session.maxAge)}),user:T,isNewUser:!0}}}throw Error("Unsupported account type")}},61958:(e,t)=>{"use strict";async function r({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:o}=e,i=n.origin;return t?i=await o.redirect({url:t,baseUrl:n.origin}):r&&(i=await o.redirect({url:r,baseUrl:n.origin})),{callbackUrl:i,callbackUrlCookie:i!==r?i:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCallbackUrl=r},63811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCSRFToken=function({options:e,cookieValue:t,isPost:r,bodyValue:o}){if(t){let[i,s]=t.split("|");if(s===(0,n.createHash)("sha256").update(`${i}${e.secret}`).digest("hex"))return{csrfTokenVerified:r&&i===o,csrfToken:i}}let i=(0,n.randomBytes)(32).toString("hex"),s=(0,n.createHash)("sha256").update(`${i}${e.secret}`).digest("hex");return{cookie:`${i}|${s}`,csrfToken:i}};var n=r(6113)},29090:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCallbacks=void 0,t.defaultCallbacks={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>e,jwt:({token:e})=>e}},4552:(e,t)=>{"use strict";async function r({email:e,adapter:t}){let{getUserByEmail:r}=t;return(e?await r(e):null)||{id:e,email:e,emailVerified:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},90065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=r(6113),o=r(135);async function i(e,t){var r,i,s,a;let{url:u,adapter:l,provider:c,callbackUrl:d,theme:p}=t,h=null!==(r=await (null===(i=c.generateVerificationToken)||void 0===i?void 0:i.call(c)))&&void 0!==r?r:(0,n.randomBytes)(32).toString("hex"),f=new Date(Date.now()+(null!==(s=c.maxAge)&&void 0!==s?s:86400)*1e3),_=new URLSearchParams({callbackUrl:d,token:h,email:e}),g=`${u}/callback/${c.id}?${_}`;return await Promise.all([c.sendVerificationRequest({identifier:e,token:h,expires:f,url:g,provider:c,theme:p}),null===(a=l.createVerificationToken)||void 0===a?void 0:a.call(l,{identifier:e,token:(0,o.hashToken)(h,t),expires:f})]),`${u}/verify-request?${new URLSearchParams({provider:c.id,type:c.type})}`}},45657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=r(30499),o=r(16808),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(99693));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}async function a({options:e,query:t}){var r,s,a;let{logger:u,provider:l}=e,c={};if("string"==typeof l.authorization){let e=Object.fromEntries(new URL(l.authorization).searchParams);c={...c,...e}}else c={...c,...null===(s=l.authorization)||void 0===s?void 0:s.params};if(c={...c,...t},null!==(r=l.version)&&void 0!==r&&r.startsWith("1.")){let t=(0,o.oAuth1Client)(e),r=await t.getOAuthRequestToken(c),n=`${null===(a=l.authorization)||void 0===a?void 0:a.url}?${new URLSearchParams({oauth_token:r.oauth_token,oauth_token_secret:r.oauth_token_secret,...r.params})}`;return o.oAuth1TokenStore.set(r.oauth_token,r.oauth_token_secret),u.debug("GET_AUTHORIZATION_URL",{url:n,provider:l}),{redirect:n}}let d=await (0,n.openidClient)(e),p=c,h=[];await i.state.create(e,h,p),await i.pkce.create(e,h,p),await i.nonce.create(e,h,p);let f=d.authorizationUrl(p);return u.debug("GET_AUTHORIZATION_URL",{url:f,cookies:h,provider:l}),{redirect:f,cookies:h}}},59082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=r(44741),o=r(30499),i=r(16808),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(99693)),a=r(26100);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}async function l(e){var t,r,u,l,d,p;let{options:h,query:f,body:_,method:g,cookies:y}=e,{logger:v,provider:m}=h,w=null!==(t=null==_?void 0:_.error)&&void 0!==t?t:null==f?void 0:f.error;if(w){let e=Error(w);throw v.error("OAUTH_CALLBACK_HANDLER_ERROR",{error:e,error_description:null==f?void 0:f.error_description,providerId:m.id}),v.debug("OAUTH_CALLBACK_HANDLER_ERROR",{body:_}),e}if(null!==(r=m.version)&&void 0!==r&&r.startsWith("1."))try{let e=await (0,i.oAuth1Client)(h),{oauth_token:t,oauth_verifier:r}=null!=f?f:{},n=await e.getOAuthAccessToken(t,i.oAuth1TokenStore.get(t),r),o=await e.get(m.profileUrl,n.oauth_token,n.oauth_token_secret);return"string"==typeof o&&(o=JSON.parse(o)),{...await c({profile:o,tokens:n,provider:m,logger:v}),cookies:[]}}catch(e){throw v.error("OAUTH_V1_GET_ACCESS_TOKEN_ERROR",e),e}null!=f&&f.oauth_token&&i.oAuth1TokenStore.delete(f.oauth_token);try{let e,t;let r=await (0,o.openidClient)(h),i={},a=[];await s.state.use(y,a,h,i),await s.pkce.use(y,a,h,i),await s.nonce.use(y,a,h,i);let w={...r.callbackParams({url:`http://n?${new URLSearchParams(f)}`,body:_,method:g}),...null===(u=m.token)||void 0===u?void 0:u.params};if(null!==(l=m.token)&&void 0!==l&&l.request){let t=await m.token.request({provider:m,params:w,checks:i,client:r});e=new n.TokenSet(t.tokens)}else e=m.idToken?await r.callback(m.callbackUrl,w,i):await r.oauthCallback(m.callbackUrl,w,i);return Array.isArray(e.scope)&&(e.scope=e.scope.join(" ")),t=null!==(d=m.userinfo)&&void 0!==d&&d.request?await m.userinfo.request({provider:m,tokens:e,client:r}):m.idToken?e.claims():await r.userinfo(e,{params:null===(p=m.userinfo)||void 0===p?void 0:p.params}),{...await c({profile:t,provider:m,tokens:e,logger:v}),cookies:a}}catch(e){throw new a.OAuthCallbackError(e)}}async function c({profile:e,tokens:t,provider:r,logger:n}){try{var o;n.debug("PROFILE_DATA",{OAuthProfile:e});let i=await r.profile(e,t);if(i.email=null===(o=i.email)||void 0===o?void 0:o.toLowerCase(),!i.id)throw TypeError(`Profile id is missing in ${r.name} OAuth profile response`);return{profile:i,account:{provider:r.id,type:r.type,providerAccountId:i.id.toString(),...t},OAuthProfile:e}}catch(t){n.error("OAUTH_PARSE_PROFILE_ERROR",{error:t,OAuthProfile:e})}}},99693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkce=t.nonce=t.PKCE_CODE_CHALLENGE_METHOD=void 0,t.signCookie=s,t.state=void 0;var n=r(44741),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&({}).hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(36929));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}async function s(e,t,r,n){let{cookies:i,logger:s}=n;s.debug(`CREATE_${e.toUpperCase()}`,{value:t,maxAge:r});let{name:a}=i[e],u=new Date;return u.setTime(u.getTime()+1e3*r),{name:a,value:await o.encode({...n.jwt,maxAge:r,token:{value:t},salt:a}),options:{...i[e].options,expires:u}}}let a=t.PKCE_CODE_CHALLENGE_METHOD="S256";t.pkce={async create(e,t,r){var o,i;if(!(null!==(o=e.provider)&&void 0!==o&&null!==(o=o.checks)&&void 0!==o&&o.includes("pkce")))return;let u=n.generators.codeVerifier(),l=n.generators.codeChallenge(u);r.code_challenge=l,r.code_challenge_method=a;let c=null!==(i=e.cookies.pkceCodeVerifier.options.maxAge)&&void 0!==i?i:900;t.push(await s("pkceCodeVerifier",u,c,e))},async use(e,t,r,n){var i;if(!(null!==(i=r.provider)&&void 0!==i&&null!==(i=i.checks)&&void 0!==i&&i.includes("pkce")))return;let s=null==e?void 0:e[r.cookies.pkceCodeVerifier.name];if(!s)throw TypeError("PKCE code_verifier cookie was missing.");let{name:a}=r.cookies.pkceCodeVerifier,u=await o.decode({...r.jwt,token:s,salt:a});if(!(null!=u&&u.value))throw TypeError("PKCE code_verifier value could not be parsed.");t.push({name:a,value:"",options:{...r.cookies.pkceCodeVerifier.options,maxAge:0}}),n.code_verifier=u.value}},t.state={async create(e,t,r){var o,i;if(!(null!==(o=e.provider.checks)&&void 0!==o&&o.includes("state")))return;let a=n.generators.state();r.state=a;let u=null!==(i=e.cookies.state.options.maxAge)&&void 0!==i?i:900;t.push(await s("state",a,u,e))},async use(e,t,r,n){var i;if(!(null!==(i=r.provider.checks)&&void 0!==i&&i.includes("state")))return;let s=null==e?void 0:e[r.cookies.state.name];if(!s)throw TypeError("State cookie was missing.");let{name:a}=r.cookies.state,u=await o.decode({...r.jwt,token:s,salt:a});if(!(null!=u&&u.value))throw TypeError("State value could not be parsed.");t.push({name:a,value:"",options:{...r.cookies.state.options,maxAge:0}}),n.state=u.value}},t.nonce={async create(e,t,r){var o,i;if(!(null!==(o=e.provider.checks)&&void 0!==o&&o.includes("nonce")))return;let a=n.generators.nonce();r.nonce=a;let u=null!==(i=e.cookies.nonce.options.maxAge)&&void 0!==i?i:900;t.push(await s("nonce",a,u,e))},async use(e,t,r,n){var i;if(!(null!==(i=r.provider)&&void 0!==i&&null!==(i=i.checks)&&void 0!==i&&i.includes("nonce")))return;let s=null==e?void 0:e[r.cookies.nonce.name];if(!s)throw TypeError("Nonce cookie was missing.");let{name:a}=r.cookies.nonce,u=await o.decode({...r.jwt,token:s,salt:a});if(!(null!=u&&u.value))throw TypeError("Nonce value could not be parsed.");t.push({name:a,value:"",options:{...r.cookies.nonce.options,maxAge:0}}),n.nonce=u.value}}},16808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oAuth1Client=function(e){var t,r;let o=e.provider,i=new n.OAuth(o.requestTokenUrl,o.accessTokenUrl,o.clientId,o.clientSecret,null!==(t=o.version)&&void 0!==t?t:"1.0",o.callbackUrl,null!==(r=o.encoding)&&void 0!==r?r:"HMAC-SHA1"),s=i.get.bind(i);i.get=async(...e)=>await new Promise((t,r)=>{s(...e,(e,n)=>{if(e)return r(e);t(n)})});let a=i.getOAuthAccessToken.bind(i);i.getOAuthAccessToken=async(...e)=>await new Promise((t,r)=>{a(...e,(e,n,o)=>{if(e)return r(e);t({oauth_token:n,oauth_token_secret:o})})});let u=i.getOAuthRequestToken.bind(i);return i.getOAuthRequestToken=async(e={})=>await new Promise((t,r)=>{u(e,(e,n,o,i)=>{if(e)return r(e);t({oauth_token:n,oauth_token_secret:o,params:i})})}),i},t.oAuth1TokenStore=void 0;var n=r(49086);t.oAuth1TokenStore=new Map},30499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openidClient=o;var n=r(44741);async function o(e){let t;let r=e.provider;if(r.httpOptions&&n.custom.setHttpOptionsDefaults(r.httpOptions),r.wellKnown)t=await n.Issuer.discover(r.wellKnown);else{var o,i,s;t=new n.Issuer({issuer:r.issuer,authorization_endpoint:null===(o=r.authorization)||void 0===o?void 0:o.url,token_endpoint:null===(i=r.token)||void 0===i?void 0:i.url,userinfo_endpoint:null===(s=r.userinfo)||void 0===s?void 0:s.url,jwks_uri:r.jwks_endpoint})}let a=new t.Client({client_id:r.clientId,client_secret:r.clientSecret,redirect_uris:[r.callbackUrl],...r.client},r.jwks);return a[n.custom.clock_tolerance]=10,a}},1200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{url:t,providerId:r}=e,i=e.providers.map(({options:e,...r})=>{var i,s;if("oauth"===r.type){let i=o(r),a=o(e,!0),u=null!==(s=null==a?void 0:a.id)&&void 0!==s?s:r.id;return(0,n.merge)(i,{...a,signinUrl:`${t}/signin/${u}`,callbackUrl:`${t}/callback/${u}`})}let a=null!==(i=null==e?void 0:e.id)&&void 0!==i?i:r.id;return(0,n.merge)(r,{...e,signinUrl:`${t}/signin/${a}`,callbackUrl:`${t}/callback/${a}`})});return{providers:i,provider:i.find(({id:e})=>e===r)}};var n=r(53747);function o(e,t=!1){var r,n,o,i,s;if(!e)return;let a=Object.entries(e).reduce((e,[t,r])=>{if(["authorization","token","userinfo"].includes(t)&&"string"==typeof r){var n;let o=new URL(r);e[t]={url:`${o.origin}${o.pathname}`,params:Object.fromEntries(null!==(n=o.searchParams)&&void 0!==n?n:[])}}else e[t]=r;return e},{});return t||null!==(r=a.version)&&void 0!==r&&r.startsWith("1.")||(a.idToken=!!(null!==(n=null!==(o=a.idToken)&&void 0!==o?o:null===(i=a.wellKnown)||void 0===i?void 0:i.includes("openid-configuration"))&&void 0!==n?n:null===(s=a.authorization)||void 0===s||null===(s=s.params)||void 0===s||null===(s=s.scope)||void 0===s?void 0:s.includes("openid")),a.checks||(a.checks=["state"])),a}},135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSecret=function(e){var t;let{authOptions:r,url:o}=e;return null!==(t=r.secret)&&void 0!==t?t:(0,n.createHash)("sha256").update(JSON.stringify({...o,...r})).digest("hex")},t.fromDate=function(e,t=Date.now()){return new Date(t+1e3*e)},t.hashToken=function(e,t){var r;let{provider:o,secret:i}=t;return(0,n.createHash)("sha256").update(`${e}${null!==(r=o.secret)&&void 0!==r?r:i}`).digest("hex")};var n=r(6113)},88425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{url:r,error:o="default",theme:i}=e,s=`${r}/signin`,a={default:{status:200,heading:"Error",message:(0,n.h)("p",null,(0,n.h)("a",{className:"site",href:null==r?void 0:r.origin},null==r?void 0:r.host))},configuration:{status:500,heading:"Server error",message:(0,n.h)("div",null,(0,n.h)("p",null,"There is a problem with the server configuration."),(0,n.h)("p",null,"Check the server logs for more information."))},accessdenied:{status:403,heading:"Access Denied",message:(0,n.h)("div",null,(0,n.h)("p",null,"You do not have permission to sign in."),(0,n.h)("p",null,(0,n.h)("a",{className:"button",href:s},"Sign in")))},verification:{status:403,heading:"Unable to sign in",message:(0,n.h)("div",null,(0,n.h)("p",null,"The sign in link is no longer valid."),(0,n.h)("p",null,"It may have been used already or it may have expired.")),signin:(0,n.h)("a",{className:"button",href:s},"Sign in")}},{status:u,heading:l,message:c,signin:d}=null!==(t=a[o.toLowerCase()])&&void 0!==t?t:a.default;return{status:u,html:(0,n.h)("div",{className:"error"},(null==i?void 0:i.brandColor)&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
1:(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{1921:function(e,s,r){Promise.resolve().then(r.bind(r,74))},74:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return a}});var t=r(3827),l=r(4090);function a(){let[e,s]=(0,l.useState)(null),[r,a]=(0,l.useState)(null),[d,n]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/me",{cache:"no-store"}),r=await e.json();if(s(r),!r.success)return;if("ADMIN"!==r.user.role){a({success:!1,error:"Forbidden"});return}let t=await fetch("/api/admin/users",{cache:"no-store"}),l=await t.json();a(l)}catch(e){a({success:!1,error:"Server error"})}finally{n(!1)}})()},[]),d)?(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin \xb7 Users"}),(0,t.jsx)("div",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-gray-300 border-t-gray-700"})]}):e&&e.success?r&&r.success?(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin \xb7 Users"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full border rounded-lg",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Email"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Name"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Verified"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Role"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-700 border-b",children:"Created"})]})}),(0,t.jsx)("tbody",{children:r.users.map(e=>{var s,r;return(0,t.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-3 py-2 border-b",children:e.email}),(0,t.jsx)("td",{className:"px-3 py-2 border-b",children:null!==(s=e.name)&&void 0!==s?s:"—"}),(0,t.jsx)("td",{className:"px-3 py-2 border-b",children:e.emailVerified?(0,t.jsx)("span",{className:"text-green-600",children:"Yes"}):(0,t.jsx)("span",{className:"text-red-600",children:"No"})}),(0,t.jsx)("td",{className:"px-3 py-2 border-b",children:null!==(r=e.role)&&void 0!==r?r:"USER"}),(0,t.jsx)("td",{className:"px-3 py-2 border-b",children:new Date(e.createdAt).toLocaleString()})]},e.id)})})]})})]}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin \xb7 Users"}),(0,t.jsx)("div",{className:"rounded border border-red-300 bg-red-50 px-3 py-2 text-red-700",children:(null==r?void 0:r.error)==="Forbidden"?"You must be an admin to view this page.":"Failed to load users."})]}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin \xb7 Users"}),(0,t.jsx)("div",{className:"rounded border border-yellow-300 bg-yellow-50 px-3 py-2 text-yellow-700",children:"You must be logged in to view this page."})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=1921)}),_N_E=e.O()}]);11:  | { success: true; users: Array<{ id: string; email: string; name?: string | null; emailVerified: boolean; createdAt: string; role?: string | null }> }
98:                  {u.emailVerified ? (
18:        emailVerifiedAt: new Date(),
28:        emailVerifiedAt: true, // ✅ timestamp field
37:      emailVerified: !!u.emailVerifiedAt, // for components expecting boolean
20:      select: { id: true, email: true, emailVerifiedAt: true },
27:    if (user.emailVerifiedAt) return NextResponse.json({ success: true });
35:            emailVerifiedAt: true, // <-- this is the correct field
45:        if (!user.emailVerifiedAt) {
29:      data: { verifyToken, verifyTokenExpiry, emailVerified: false },
36:        emailVerifiedAt: null,
31:        emailVerifiedAt: new Date(),
32:      emailVerifiedAt: true,
65:          {user.emailVerifiedAt ? (
33:            emailVerifiedAt: true,
43:        if (!user.emailVerifiedAt) {
2170:    emailVerifiedAt: Date | null
2188:    emailVerifiedAt: Date | null
2206:    emailVerifiedAt: number
2234:    emailVerifiedAt?: true
2252:    emailVerifiedAt?: true
2270:    emailVerifiedAt?: true
2375:    emailVerifiedAt: Date | null
2412:    emailVerifiedAt?: boolean
2442:    emailVerifiedAt?: boolean
2462:    emailVerifiedAt?: boolean
2482:    emailVerifiedAt?: boolean
2493:  export type UserOmit<ExtArgs extends $Extensions.InternalArgs = $Extensions.DefaultArgs> = $Extensions.GetOmit<"id" | "email" | "name" | "password" | "createdAt" | "updatedAt" | "emailVerifiedAt" | "verifyToken" | "verifyTokenExpiry" | "referralGroupId" | "referredById" | "referralBadge" | "referralCode" | "role" | "trustScore", ExtArgs["result"]["user"]>
2539:      emailVerifiedAt: Date | null
2988:    readonly emailVerifiedAt: FieldRef<"User", 'DateTime'>
16723:    emailVerifiedAt: 'emailVerifiedAt',
17108:    emailVerifiedAt?: DateTimeNullableFilter<"User"> | Date | string | null
17137:    emailVerifiedAt?: SortOrderInput | SortOrder
17171:    emailVerifiedAt?: DateTimeNullableFilter<"User"> | Date | string | null
17198:    emailVerifiedAt?: SortOrderInput | SortOrder
17224:    emailVerifiedAt?: DateTimeNullableWithAggregatesFilter<"User"> | Date | string | null
18069:    emailVerifiedAt?: Date | string | null
18096:    emailVerifiedAt?: Date | string | null
18123:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
18150:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
18177:    emailVerifiedAt?: Date | string | null
18195:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
18211:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
19286:    emailVerifiedAt?: SortOrder
19308:    emailVerifiedAt?: SortOrder
19326:    emailVerifiedAt?: SortOrder
21309:    emailVerifiedAt?: Date | string | null
21335:    emailVerifiedAt?: Date | string | null
21366:    emailVerifiedAt?: Date | string | null
21392:    emailVerifiedAt?: Date | string | null
21684:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
21710:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
21755:    emailVerifiedAt?: DateTimeNullableFilter<"User"> | Date | string | null
21773:    emailVerifiedAt?: Date | string | null
21799:    emailVerifiedAt?: Date | string | null
21835:    emailVerifiedAt?: Date | string | null
21861:    emailVerifiedAt?: Date | string | null
21919:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
21945:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
21971:    emailVerifiedAt?: Date | string | null
21997:    emailVerifiedAt?: Date | string | null
22039:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22065:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22091:    emailVerifiedAt?: Date | string | null
22117:    emailVerifiedAt?: Date | string | null
22159:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22185:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22211:    emailVerifiedAt?: Date | string | null
22237:    emailVerifiedAt?: Date | string | null
22279:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22305:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22331:    emailVerifiedAt?: Date | string | null
22357:    emailVerifiedAt?: Date | string | null
22399:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22425:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22451:    emailVerifiedAt?: Date | string | null
22477:    emailVerifiedAt?: Date | string | null
22508:    emailVerifiedAt?: Date | string | null
22534:    emailVerifiedAt?: Date | string | null
22576:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22602:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22639:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22665:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22691:    emailVerifiedAt?: Date | string | null
22717:    emailVerifiedAt?: Date | string | null
22759:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22785:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
22883:    emailVerifiedAt?: Date | string | null
23118:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
23144:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
23170:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
23187:    emailVerifiedAt?: Date | string | null
23204:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
23230:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
23256:    emailVerifiedAt?: NullableDateTimeFieldUpdateOperationsInput | Date | string | null
102:  emailVerifiedAt: 'emailVerifiedAt',
355:  "inlineSchema": "generator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\nmodel User {\n  id        String   @id @default(cuid())\n  email     String   @unique\n  name      String?\n  password  String?\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Email verification\n  emailVerifiedAt   DateTime?\n  verifyToken       String?   @unique\n  verifyTokenExpiry DateTime?\n\n  referralGroupId String?\n  referredById    String?\n  referralBadge   String?\n  referralCode    String? @unique\n  role            String? @default(\"user\")\n  trustScore      Int?    @default(0)\n\n  // Relations\n  referralGroup          ReferralGroup?       @relation(\"UsersInGroup\", fields: [referralGroupId], references: [id])\n  referralGroupsCreated  ReferralGroup[]      @relation(\"UsersInGroupReferrer\")\n  referralBatches        ReferralBatch[]      @relation(\"UserReferralBatches\")\n  commissions            Commission[]\n  commissionsFromInvites OverrideCommission[] @relation(\"InviteeOverride\")\n  overrideEarnings       OverrideCommission[] @relation(\"ReferrerOverride\")\n  payouts                Payout[]\n  eventLogs              EventLog[]\n  verificationTokens     VerificationToken[]\n\n  // Self-referential\n  referredBy User?  @relation(\"UserReferrals\", fields: [referredById], references: [id])\n  referrals  User[] @relation(\"UserReferrals\")\n}\n\nmodel ReferralGroup {\n  id         String   @id @default(cuid())\n  referrerId String\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  startedAt  DateTime @default(now())\n\n  users    User[] @relation(\"UsersInGroup\")\n  referrer User   @relation(\"UsersInGroupReferrer\", fields: [referrerId], references: [id])\n}\n\nmodel ReferralBatch {\n  id         String    @id @default(cuid())\n  referrerId String\n  inviteeIds String[]\n  startedAt  DateTime?\n  expiresAt  DateTime?\n  status     String    @default(\"pending\")\n  createdAt  DateTime  @default(now())\n\n  referrer User @relation(\"UserReferralBatches\", fields: [referrerId], references: [id])\n}\n\nmodel EventLog {\n  id        String   @id @default(cuid())\n  userId    String?\n  type      String\n  detail    String?\n  message   String?\n  createdAt DateTime @default(now())\n\n  user User? @relation(fields: [userId], references: [id])\n}\n\nmodel Payout {\n  id         String    @id @default(cuid())\n  userId     String\n  amount     Float\n  method     String\n  status     String\n  details    String?\n  createdAt  DateTime  @default(now())\n  approvedAt DateTime?\n  paidAt     DateTime?\n\n  user User @relation(fields: [userId], references: [id])\n}\n\nmodel FloatLog {\n  id        String   @id @default(cuid())\n  amount    Float\n  source    String\n  note      String?\n  createdAt DateTime @default(now())\n}\n\nmodel PendingUser {\n  id                String   @id @default(cuid())\n  email             String   @unique\n  password          String\n  name              String?\n  verifyToken       String\n  verifyTokenExpiry DateTime\n  referredById      String?\n  createdAt         DateTime @default(now())\n}\n\nmodel Commission {\n  id          String         @id @default(cuid())\n  userId      String\n  amount      Float\n  type        CommissionType\n  status      String\n  paidOut     Boolean        @default(false)\n  source      String?\n  description String?\n  createdAt   DateTime       @default(now())\n\n  user User @relation(fields: [userId], references: [id])\n}\n\nmodel OverrideCommission {\n  id                 String   @id @default(cuid())\n  referrerId         String\n  inviteeId          String\n  amount             Float\n  sourceCommissionId String\n  reason             String   @default(\"Referral bonus override\")\n  status             String   @default(\"pending\")\n  createdAt          DateTime @default(now())\n\n  invitee  User @relation(\"InviteeOverride\", fields: [inviteeId], references: [id])\n  referrer User @relation(\"ReferrerOverride\", fields: [referrerId], references: [id])\n}\n\nmodel SystemSetting {\n  key   String @id\n  value String\n}\n\nmodel NetworkAccount {\n  id        String           @id @default(uuid())\n  network   AffiliateNetwork\n  accountId String\n  note      String?\n  createdAt DateTime         @default(now())\n  updatedAt DateTime         @updatedAt\n\n  @@unique([network, accountId])\n}\n\nmodel MerchantRule {\n  id               String         @id @default(cuid())\n  active           Boolean        @default(true)\n  merchantName     String\n  network          String?\n  domainPattern    String?\n  paramKey         String?\n  paramValue       String?\n  linkTemplate     String?\n  allowedSources   Json?\n  disallowed       Json?\n  cookieWindowDays Int?\n  payoutDelayDays  Int?\n  commissionType   CommissionCalc @default(PERCENT)\n  commissionRate   Decimal?\n  calc             String?\n  rate             Float?\n  notes            String?\n  importMethod     ImportMethod   @default(MANUAL)\n  apiBaseUrl       String?\n  apiAuthType      String?\n  apiKeyRef        String?\n  lastImportedAt   DateTime?\n  createdAt        DateTime       @default(now())\n  updatedAt        DateTime       @updatedAt\n}\n\nmodel VerificationToken {\n  id      String   @id @default(cuid())\n  userId  String\n  token   String   @unique\n  expires DateTime\n\n  user User @relation(fields: [userId], references: [id])\n}\n\nenum CommissionType {\n  referral_purchase\n  override_bonus\n  payout\n}\n\nenum AffiliateNetwork {\n  AMAZON\n  SHAREASALE\n  CJ\n  IMPACT\n  RAKUTEN\n  OTHER\n}\n\nenum ImportMethod {\n  API\n  CSV\n  MANUAL\n}\n\nenum CommissionCalc {\n  PERCENT\n  FIXED\n}\n",
361:config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"email\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"name\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"password\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"emailVerifiedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verifyToken\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verifyTokenExpiry\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralGroupId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referredById\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralBadge\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralCode\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"role\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":\"user\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"trustScore\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Int\",\"nativeType\":null,\"default\":0,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralGroup\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"ReferralGroup\",\"nativeType\":null,\"relationName\":\"UsersInGroup\",\"relationFromFields\":[\"referralGroupId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralGroupsCreated\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"ReferralGroup\",\"nativeType\":null,\"relationName\":\"UsersInGroupReferrer\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralBatches\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"ReferralBatch\",\"nativeType\":null,\"relationName\":\"UserReferralBatches\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"commissions\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Commission\",\"nativeType\":null,\"relationName\":\"CommissionToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"commissionsFromInvites\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"OverrideCommission\",\"nativeType\":null,\"relationName\":\"InviteeOverride\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"overrideEarnings\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"OverrideCommission\",\"nativeType\":null,\"relationName\":\"ReferrerOverride\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"payouts\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Payout\",\"nativeType\":null,\"relationName\":\"PayoutToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"eventLogs\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"EventLog\",\"nativeType\":null,\"relationName\":\"EventLogToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verificationTokens\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"VerificationToken\",\"nativeType\":null,\"relationName\":\"UserToVerificationToken\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referredBy\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UserReferrals\",\"relationFromFields\":[\"referredById\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrals\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UserReferrals\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"ReferralGroup\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrerId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"users\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UsersInGroup\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrer\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UsersInGroupReferrer\",\"relationFromFields\":[\"referrerId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"ReferralBatch\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrerId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"inviteeIds\",\"kind\":\"scalar\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":\"pending\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrer\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UserReferralBatches\",\"relationFromFields\":[\"referrerId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"EventLog\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"type\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"detail\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"message\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"EventLogToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"Payout\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"amount\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"method\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"details\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"approvedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"paidAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"PayoutToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"FloatLog\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"amount\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"source\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"note\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"PendingUser\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"email\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"password\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"name\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verifyToken\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verifyTokenExpiry\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referredById\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"Commission\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"amount\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"type\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"CommissionType\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"paidOut\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Boolean\",\"nativeType\":null,\"default\":false,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"source\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"description\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"CommissionToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"OverrideCommission\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrerId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"inviteeId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"amount\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"sourceCommissionId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"reason\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":\"Referral bonus override\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":\"pending\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"invitee\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"InviteeOverride\",\"relationFromFields\":[\"inviteeId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrer\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"ReferrerOverride\",\"relationFromFields\":[\"referrerId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"SystemSetting\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"key\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"value\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"NetworkAccount\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"uuid\",\"args\":[4]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"network\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AffiliateNetwork\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"accountId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"note\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":true}],\"primaryKey\":null,\"uniqueFields\":[[\"network\",\"accountId\"]],\"uniqueIndexes\":[{\"name\":null,\"fields\":[\"network\",\"accountId\"]}],\"isGenerated\":false},\"MerchantRule\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"active\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Boolean\",\"nativeType\":null,\"default\":true,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"merchantName\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"network\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"domainPattern\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"paramKey\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"paramValue\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"linkTemplate\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"allowedSources\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"disallowed\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"cookieWindowDays\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Int\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"payoutDelayDays\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Int\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"commissionType\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"CommissionCalc\",\"nativeType\":null,\"default\":\"PERCENT\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"commissionRate\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Decimal\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"calc\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"rate\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"notes\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"importMethod\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"ImportMethod\",\"nativeType\":null,\"default\":\"MANUAL\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"apiBaseUrl\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"apiAuthType\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"apiKeyRef\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"lastImportedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":true}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"VerificationToken\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"token\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"expires\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UserToVerificationToken\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false}},\"enums\":{\"CommissionType\":{\"values\":[{\"name\":\"referral_purchase\",\"dbName\":null},{\"name\":\"override_bonus\",\"dbName\":null},{\"name\":\"payout\",\"dbName\":null}],\"dbName\":null},\"AffiliateNetwork\":{\"values\":[{\"name\":\"AMAZON\",\"dbName\":null},{\"name\":\"SHAREASALE\",\"dbName\":null},{\"name\":\"CJ\",\"dbName\":null},{\"name\":\"IMPACT\",\"dbName\":null},{\"name\":\"RAKUTEN\",\"dbName\":null},{\"name\":\"OTHER\",\"dbName\":null}],\"dbName\":null},\"ImportMethod\":{\"values\":[{\"name\":\"API\",\"dbName\":null},{\"name\":\"CSV\",\"dbName\":null},{\"name\":\"MANUAL\",\"dbName\":null}],\"dbName\":null},\"CommissionCalc\":{\"values\":[{\"name\":\"PERCENT\",\"dbName\":null},{\"name\":\"FIXED\",\"dbName\":null}],\"dbName\":null}},\"types\":{}}")
130:  emailVerifiedAt: 'emailVerifiedAt',
103:  emailVerifiedAt: 'emailVerifiedAt',
356:  "inlineSchema": "generator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\nmodel User {\n  id        String   @id @default(cuid())\n  email     String   @unique\n  name      String?\n  password  String?\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Email verification\n  emailVerifiedAt   DateTime?\n  verifyToken       String?   @unique\n  verifyTokenExpiry DateTime?\n\n  referralGroupId String?\n  referredById    String?\n  referralBadge   String?\n  referralCode    String? @unique\n  role            String? @default(\"user\")\n  trustScore      Int?    @default(0)\n\n  // Relations\n  referralGroup          ReferralGroup?       @relation(\"UsersInGroup\", fields: [referralGroupId], references: [id])\n  referralGroupsCreated  ReferralGroup[]      @relation(\"UsersInGroupReferrer\")\n  referralBatches        ReferralBatch[]      @relation(\"UserReferralBatches\")\n  commissions            Commission[]\n  commissionsFromInvites OverrideCommission[] @relation(\"InviteeOverride\")\n  overrideEarnings       OverrideCommission[] @relation(\"ReferrerOverride\")\n  payouts                Payout[]\n  eventLogs              EventLog[]\n  verificationTokens     VerificationToken[]\n\n  // Self-referential\n  referredBy User?  @relation(\"UserReferrals\", fields: [referredById], references: [id])\n  referrals  User[] @relation(\"UserReferrals\")\n}\n\nmodel ReferralGroup {\n  id         String   @id @default(cuid())\n  referrerId String\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  startedAt  DateTime @default(now())\n\n  users    User[] @relation(\"UsersInGroup\")\n  referrer User   @relation(\"UsersInGroupReferrer\", fields: [referrerId], references: [id])\n}\n\nmodel ReferralBatch {\n  id         String    @id @default(cuid())\n  referrerId String\n  inviteeIds String[]\n  startedAt  DateTime?\n  expiresAt  DateTime?\n  status     String    @default(\"pending\")\n  createdAt  DateTime  @default(now())\n\n  referrer User @relation(\"UserReferralBatches\", fields: [referrerId], references: [id])\n}\n\nmodel EventLog {\n  id        String   @id @default(cuid())\n  userId    String?\n  type      String\n  detail    String?\n  message   String?\n  createdAt DateTime @default(now())\n\n  user User? @relation(fields: [userId], references: [id])\n}\n\nmodel Payout {\n  id         String    @id @default(cuid())\n  userId     String\n  amount     Float\n  method     String\n  status     String\n  details    String?\n  createdAt  DateTime  @default(now())\n  approvedAt DateTime?\n  paidAt     DateTime?\n\n  user User @relation(fields: [userId], references: [id])\n}\n\nmodel FloatLog {\n  id        String   @id @default(cuid())\n  amount    Float\n  source    String\n  note      String?\n  createdAt DateTime @default(now())\n}\n\nmodel PendingUser {\n  id                String   @id @default(cuid())\n  email             String   @unique\n  password          String\n  name              String?\n  verifyToken       String\n  verifyTokenExpiry DateTime\n  referredById      String?\n  createdAt         DateTime @default(now())\n}\n\nmodel Commission {\n  id          String         @id @default(cuid())\n  userId      String\n  amount      Float\n  type        CommissionType\n  status      String\n  paidOut     Boolean        @default(false)\n  source      String?\n  description String?\n  createdAt   DateTime       @default(now())\n\n  user User @relation(fields: [userId], references: [id])\n}\n\nmodel OverrideCommission {\n  id                 String   @id @default(cuid())\n  referrerId         String\n  inviteeId          String\n  amount             Float\n  sourceCommissionId String\n  reason             String   @default(\"Referral bonus override\")\n  status             String   @default(\"pending\")\n  createdAt          DateTime @default(now())\n\n  invitee  User @relation(\"InviteeOverride\", fields: [inviteeId], references: [id])\n  referrer User @relation(\"ReferrerOverride\", fields: [referrerId], references: [id])\n}\n\nmodel SystemSetting {\n  key   String @id\n  value String\n}\n\nmodel NetworkAccount {\n  id        String           @id @default(uuid())\n  network   AffiliateNetwork\n  accountId String\n  note      String?\n  createdAt DateTime         @default(now())\n  updatedAt DateTime         @updatedAt\n\n  @@unique([network, accountId])\n}\n\nmodel MerchantRule {\n  id               String         @id @default(cuid())\n  active           Boolean        @default(true)\n  merchantName     String\n  network          String?\n  domainPattern    String?\n  paramKey         String?\n  paramValue       String?\n  linkTemplate     String?\n  allowedSources   Json?\n  disallowed       Json?\n  cookieWindowDays Int?\n  payoutDelayDays  Int?\n  commissionType   CommissionCalc @default(PERCENT)\n  commissionRate   Decimal?\n  calc             String?\n  rate             Float?\n  notes            String?\n  importMethod     ImportMethod   @default(MANUAL)\n  apiBaseUrl       String?\n  apiAuthType      String?\n  apiKeyRef        String?\n  lastImportedAt   DateTime?\n  createdAt        DateTime       @default(now())\n  updatedAt        DateTime       @updatedAt\n}\n\nmodel VerificationToken {\n  id      String   @id @default(cuid())\n  userId  String\n  token   String   @unique\n  expires DateTime\n\n  user User @relation(fields: [userId], references: [id])\n}\n\nenum CommissionType {\n  referral_purchase\n  override_bonus\n  payout\n}\n\nenum AffiliateNetwork {\n  AMAZON\n  SHAREASALE\n  CJ\n  IMPACT\n  RAKUTEN\n  OTHER\n}\n\nenum ImportMethod {\n  API\n  CSV\n  MANUAL\n}\n\nenum CommissionCalc {\n  PERCENT\n  FIXED\n}\n",
378:config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"email\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"name\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"password\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"emailVerifiedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verifyToken\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verifyTokenExpiry\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralGroupId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referredById\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralBadge\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralCode\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"role\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":\"user\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"trustScore\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Int\",\"nativeType\":null,\"default\":0,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralGroup\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"ReferralGroup\",\"nativeType\":null,\"relationName\":\"UsersInGroup\",\"relationFromFields\":[\"referralGroupId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralGroupsCreated\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"ReferralGroup\",\"nativeType\":null,\"relationName\":\"UsersInGroupReferrer\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referralBatches\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"ReferralBatch\",\"nativeType\":null,\"relationName\":\"UserReferralBatches\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"commissions\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Commission\",\"nativeType\":null,\"relationName\":\"CommissionToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"commissionsFromInvites\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"OverrideCommission\",\"nativeType\":null,\"relationName\":\"InviteeOverride\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"overrideEarnings\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"OverrideCommission\",\"nativeType\":null,\"relationName\":\"ReferrerOverride\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"payouts\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Payout\",\"nativeType\":null,\"relationName\":\"PayoutToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"eventLogs\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"EventLog\",\"nativeType\":null,\"relationName\":\"EventLogToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verificationTokens\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"VerificationToken\",\"nativeType\":null,\"relationName\":\"UserToVerificationToken\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referredBy\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UserReferrals\",\"relationFromFields\":[\"referredById\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrals\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UserReferrals\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"ReferralGroup\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrerId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"users\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UsersInGroup\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrer\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UsersInGroupReferrer\",\"relationFromFields\":[\"referrerId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"ReferralBatch\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrerId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"inviteeIds\",\"kind\":\"scalar\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":\"pending\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrer\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UserReferralBatches\",\"relationFromFields\":[\"referrerId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"EventLog\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"type\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"detail\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"message\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"EventLogToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"Payout\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"amount\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"method\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"details\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"approvedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"paidAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"PayoutToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"FloatLog\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"amount\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"source\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"note\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"PendingUser\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"email\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"password\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"name\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verifyToken\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"verifyTokenExpiry\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referredById\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"Commission\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"amount\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"type\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"CommissionType\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"paidOut\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Boolean\",\"nativeType\":null,\"default\":false,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"source\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"description\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"CommissionToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"OverrideCommission\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrerId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"inviteeId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"amount\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"sourceCommissionId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"reason\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":\"Referral bonus override\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":\"pending\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"invitee\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"InviteeOverride\",\"relationFromFields\":[\"inviteeId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"referrer\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"ReferrerOverride\",\"relationFromFields\":[\"referrerId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"SystemSetting\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"key\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"value\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"NetworkAccount\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"uuid\",\"args\":[4]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"network\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AffiliateNetwork\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"accountId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"note\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":true}],\"primaryKey\":null,\"uniqueFields\":[[\"network\",\"accountId\"]],\"uniqueIndexes\":[{\"name\":null,\"fields\":[\"network\",\"accountId\"]}],\"isGenerated\":false},\"MerchantRule\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"active\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Boolean\",\"nativeType\":null,\"default\":true,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"merchantName\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"network\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"domainPattern\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"paramKey\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"paramValue\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"linkTemplate\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"allowedSources\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"disallowed\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"cookieWindowDays\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Int\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"payoutDelayDays\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Int\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"commissionType\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"CommissionCalc\",\"nativeType\":null,\"default\":\"PERCENT\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"commissionRate\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Decimal\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"calc\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"rate\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Float\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"notes\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"importMethod\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"ImportMethod\",\"nativeType\":null,\"default\":\"MANUAL\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"apiBaseUrl\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"apiAuthType\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"apiKeyRef\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"lastImportedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"nativeType\":null,\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":true}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"VerificationToken\":{\"dbName\":null,\"schema\":null,\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"nativeType\":null,\"default\":{\"name\":\"cuid\",\"args\":[1]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"token\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"expires\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"nativeType\":null,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"nativeType\":null,\"relationName\":\"UserToVerificationToken\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false}},\"enums\":{\"CommissionType\":{\"values\":[{\"name\":\"referral_purchase\",\"dbName\":null},{\"name\":\"override_bonus\",\"dbName\":null},{\"name\":\"payout\",\"dbName\":null}],\"dbName\":null},\"AffiliateNetwork\":{\"values\":[{\"name\":\"AMAZON\",\"dbName\":null},{\"name\":\"SHAREASALE\",\"dbName\":null},{\"name\":\"CJ\",\"dbName\":null},{\"name\":\"IMPACT\",\"dbName\":null},{\"name\":\"RAKUTEN\",\"dbName\":null},{\"name\":\"OTHER\",\"dbName\":null}],\"dbName\":null},\"ImportMethod\":{\"values\":[{\"name\":\"API\",\"dbName\":null},{\"name\":\"CSV\",\"dbName\":null},{\"name\":\"MANUAL\",\"dbName\":null}],\"dbName\":null},\"CommissionCalc\":{\"values\":[{\"name\":\"PERCENT\",\"dbName\":null},{\"name\":\"FIXED\",\"dbName\":null}],\"dbName\":null}},\"types\":{}}")
130:  emailVerifiedAt: 'emailVerifiedAt',
93: *   emailVerified DateTime?
201: *   emailVerified DateTime? @map("email_verified")
77: *   emailVerified DateTime?
185: *   emailVerified DateTime? @map("email_verified")
6:    emailVerified: Date | null;
77:        emailVerified: new Date()
89:        emailVerified: new Date()
166:          emailVerified: null
19:    emailVerified: null
7:  emailVerified: Date | null
101:      // Update emailVerified property on the user object
102:      user = await updateUser({ id: userByEmail.id, emailVerified: new Date() })
105:      const { id: _, ...newUser } = { ...profile, emailVerified: new Date() }
210:        const { id: _, ...newUser } = { ...profile, emailVerified: null }
20:  return { id: email, email, emailVerified: null }
18:      emailVerified: true,
19:      emailVerifiedAt: new Date(),
27:      emailVerified: true,
28:      emailVerifiedAt: new Date(),
